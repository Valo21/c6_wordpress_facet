(()=>{"use strict";var t={160:(t,e,a)=>{var n=a(609),r="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},s=n.useSyncExternalStore,o=n.useRef,l=n.useEffect,i=n.useMemo,c=n.useDebugValue;e.useSyncExternalStoreWithSelector=function(t,e,a,n,u){var p=o(null);if(null===p.current){var d={hasValue:!1,value:null};p.current=d}else d=p.current;p=i(function(){function t(t){if(!l){if(l=!0,s=t,t=n(t),void 0!==u&&d.hasValue){var e=d.value;if(u(e,t))return o=e}return o=t}if(e=o,r(s,t))return e;var a=n(t);return void 0!==u&&u(e,a)?(s=t,e):(s=t,o=a)}var s,o,l=!1,i=void 0===a?null:a;return[function(){return t(e())},null===i?void 0:function(){return t(i())}]},[e,a,n,u]);var g=s(t,p[0],p[1]);return l(function(){d.hasValue=!0,d.value=g},[g]),c(g),g}},338:(t,e,a)=>{var n=a(795);n.createRoot,n.hydrateRoot},418:(t,e,a)=>{t.exports=a(160)},609:t=>{t.exports=window.React},795:t=>{t.exports=window.ReactDOM}},e={};function a(n){var r=e[n];if(void 0!==r)return r.exports;var s=e[n]={exports:{}};return t[n](s,s.exports,a),s.exports}var n=a(609);const r=window.wp.i18n,s=(t,e)=>{const{item:a,saveFilteredString:n}=t,r=t.skipTags||[],s="#lmat_page_translation_open_translate_span#",o="#lmat_page_translation_close_translate_span#",l="#lmat_page_translation_temp_tag_open#",i="#lmat_page_translation_temp_tag_close#",c="#lmat_page_translation_less_then_symbol#",u="#lmat_page_translation_greater_then_symbol#",p="#lmat_page_translation_entity_open_translate_span#",d="#lmat_page_translation_entity_close_translate_span#",g="#lmat_page_translation_line_break_n_open#",m="#lmat_page_translation_line_break_n_close#",h="#lmat_page_translation_line_break_r_open#",f="#lmat_page_translation_line_break_r_close#",y=t=>t.replace(new RegExp(s,"g"),"").replace(new RegExp(o,"g"),""),_=t=>{const e=document.createElement("div");e.innerHTML=t;const a=e.firstElementChild;if(!a)return t;let n=a.childNodes,l=n.length;if(l>0){n=Array.from(n).sort((t,e)=>3===t.nodeType?-1:3===e.nodeType?1:0);for(let t=0;t<l;t++){let e=n[t];if(3===e.nodeType){let t=e.textContent.replace(/^\s+|^\.\s+|^\s.|\s+$|\.\s+$|\s.\+$/g,t=>`${s}${y(t)}${o}`);e.textContent=t}else if(8===e.nodeType)e.textContent=e.textContent;else{let t=_(e.outerHTML);e.outerHTML=t}}}let i=a.outerHTML.match(/^<[^>]+>/)[0];const c=new RegExp(`${s}|${o}`,"g");i=i.replace(c,"");const u=a.tagName.toLowerCase(),p=new RegExp(`</${u}>`,"i"),d=a.outerHTML.match(p);if("<style>"===i)return`${s}${y(a.outerHTML)}${o}`;let g=a.innerHTML;g=g.replace(/^\s+|^\.\s+|^\s.|\s+$|\.\s+$|\s.\+$/g,t=>`${s}${y(t)}${o}`),a.innerHTML="";let m="",h="",f="";if(h=`${s}${y(i)}${o}`,d&&(m=`${s}</${u}>${o}`),r.includes(u)){const t=new RegExp(`${s}|${o}`,"g");g=g.replace(t,""),g=`${s}${y(g)}${o}`}return""!==g?(""!==h&&(f=h+g),""!==m&&(f+=m)):f=h+m,a.outerHTML=f,e.innerHTML},b=e=>{/^(_yoast_wpseo_|rank_math_|_seopress_)/.test(t.contentKey.trim())&&(e=(t=>t.replace(/(%{1,2}[a-zA-Z0-9_]+%{0,2})/g,t=>`${s}${y(t)}${o}`))(e)),e=(t=>t.replace(/(\n)/g,()=>`${g}${m}`).replace(/(\r)/g,()=>`${h}${f}`))(e);const a=/\[(.*?)\]/g;"string"==typeof e&&e.match(a)&&(e=e.replace(a,t=>`${s}${y(t)}${o}`));let n=e;if((t=>(t=t.trim(),/^<([a-z][a-z0-9]*)\b[^>]*>(\s*(?:<!--.*?-->\s*)*<\/\1>)?$/i.test(t)))(e))n=e.replace(/<([a-z][a-z0-9]*)\b[^>]*>(\s*(?:<!--.*?-->\s*)*<\/\1>)?/gi,t=>`${s}${y(t)}${o}`);else{const t=document.createElement("div");t.innerHTML=(t=>{if("string"!=typeof t||!t.trim())return t;const e=/<\/?([a-zA-Z0-9]+)(\s[^>]*)?>/g,a=[];let n,r="",s=0;for(;null!==(n=e.exec(t));){const[o,c]=n,u=o.startsWith("</"),p=n.index;if(p>s&&(r+=t.slice(s,p)),u){const t=a.findIndex(t=>t.tag===c);-1!==t?(a.splice(t,1),r+=o):r+=`${l}<${c}>${i}`+o}else a.push({tag:c}),r+=o;s=e.lastIndex}s<t.length&&(r+=t.slice(s));for(let t=a.length-1;t>=0;t--){const{tag:e}=a[t];r+=`${l}</${e}>${i}`}return n=null,a.length=0,t=null,r})(e),function t(e){let a=e.childNodes;const n=e=>{if(a.length>e){let r=a[e],l=null;if(3===r.nodeType){const t=r.textContent.replace(/^\s+|^\.\s+|^\s.|\s+$|\.\s+$|\s.\+$|(\r?\n){2,}/g,t=>`${s}${y(t)}${o}`);l=document.createTextNode(t)}else if(8===r.nodeType)l=document.createTextNode(`${s}${c}!--${y(r.textContent)}--${u}${o}`);else if(1===r.nodeType){const e=r.childNodes,a=r.outerHTML.trim(),n=a.match(/^<([a-zA-Z0-9]+)(\s[^>]*)?>/i);if(!n)return a;const i=n[1],g=n[2]||"",m=new RegExp(`<\\/${i}>\\s*$`,"i").test(a);e.length>0&&t(r);let h=`${s}${c}${i}${y(g)}${u}${o}${(t=>t.replace(/&([a-zA-Z0-9#x]+);/g,t=>`${p}${t.replace(/&/g,"").replace(/;/g,"")}${d}`))(r.innerHTML)}`;m&&(h+=`${s}${c}/${i}${u}${o}`),l=document.createTextNode(h)}else{let t=r.outerHTML;t=t.replace(/<!--([\s\S]*?)-->/g,(t,e)=>`${s}${y(t)}${o}`);let e=_(t);l=document.createTextNode(e)}r.replaceWith(l),e++,n(e)}};return n(0),e}(t),n=t.innerText,n=n.replace(new RegExp(c,"g"),"<").replace(new RegExp(u,"g"),">"),n=((t,e)=>{if(t=t.trim(),!/<\/?(tr|td|th)\b[^>]*>/i.test(t))return e;if(/<\/?(tr|td|th)\b[^>]*>/i.test(e))return e;e=e.trim();const a=t.match(/^<(tr|td|th)\b[^>]*>/i),n=t.match(/<\/(tr|td|th)>\s*$/i);let r=e;return a&&(r=`${s}${y(a[0])}${o}`+r),n&&(r+=`${s}${y(n[0])}${o}`),r})(e,n)}const r=new RegExp(`${l}([\\s\\S]*?)(${i})`,"g");return n=n.replace(r,""),n=(t=>t.replace(new RegExp(g+m,"g"),`${s}\n${o}`).replace(new RegExp(h+f,"g"),`${s}\r${o}`))(n),n=(t=>t.replace(new RegExp(p,"g"),"&").replace(new RegExp(d,"g"),";"))(n),(t=>{const e=new RegExp(`(${s}[\\s\\S]*?${o})|'`);return t.split(e).filter(Boolean).filter(t=>""!==t.trim())})(n)},T=new RegExp(`${s}[\\s\\S]*?${o}`),v=new RegExp(`${s}|${o}`,"g"),w=t=>t.replace(v,"");(()=>{if(n&&a&&a.id&&a.type&&a.source&&!a.filteredString){const t=b(a.source).map((t,e)=>{if(T.test(t)){const e=document.createElement("p");return e.innerText=w(t),`<span class="notranslate lmat-page-translation-notraslate-tag" translate="no">${e.innerHTML}</span>`}return t}).join("");n(a.type,a.id,t)}})();const E=["google","localAiTranslator"].includes(t.service)?b(t.content):t.content;return React.createElement(React.Fragment,null,["localAiTranslator","google"].includes(t.service)?E.map((t,e)=>T.test(t)?React.createElement("span",{key:e,className:"notranslate lmat-page-translation-notraslate-tag",translate:"no"},w(t)):t):E)};var o=a(795);const l=async t=>{const e=document.createElement("div"),a=o.createRoot(e);return new Promise(n=>{a.render(t),setTimeout(()=>{const t=e.innerHTML;a.unmount(),e.remove(),n(t)},0)})};function i(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var c=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")(),u=()=>Math.random().toString(36).substring(7).split("").join("."),p={INIT:`@@redux/INIT${u()}`,REPLACE:`@@redux/REPLACE${u()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${u()}`};function d(t){if("object"!=typeof t||null===t)return!1;let e=t;for(;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||null===Object.getPrototypeOf(t)}function g(t,e,a){if("function"!=typeof t)throw new Error(i(2));if("function"==typeof e&&"function"==typeof a||"function"==typeof a&&"function"==typeof arguments[3])throw new Error(i(0));if("function"==typeof e&&void 0===a&&(a=e,e=void 0),void 0!==a){if("function"!=typeof a)throw new Error(i(1));return a(g)(t,e)}let n=t,r=e,s=new Map,o=s,l=0,u=!1;function m(){o===s&&(o=new Map,s.forEach((t,e)=>{o.set(e,t)}))}function h(){if(u)throw new Error(i(3));return r}function f(t){if("function"!=typeof t)throw new Error(i(4));if(u)throw new Error(i(5));let e=!0;m();const a=l++;return o.set(a,t),function(){if(e){if(u)throw new Error(i(6));e=!1,m(),o.delete(a),s=null}}}function y(t){if(!d(t))throw new Error(i(7));if(void 0===t.type)throw new Error(i(8));if("string"!=typeof t.type)throw new Error(i(17));if(u)throw new Error(i(9));try{u=!0,r=n(r,t)}finally{u=!1}return(s=o).forEach(t=>{t()}),t}return y({type:p.INIT}),{dispatch:y,subscribe:f,getState:h,replaceReducer:function(t){if("function"!=typeof t)throw new Error(i(10));n=t,y({type:p.REPLACE})},[c]:function(){const t=f;return{subscribe(e){if("object"!=typeof e||null===e)throw new Error(i(11));function a(){const t=e;t.next&&t.next(h())}return a(),{unsubscribe:t(a)}},[c](){return this}}}}}function m(...t){return 0===t.length?t=>t:1===t.length?t[0]:t.reduce((t,e)=>(...a)=>t(e(...a)))}function h(t){return({dispatch:e,getState:a})=>n=>r=>"function"==typeof r?r(e,a,t):n(r)}var f=h(),y=h,_=Symbol.for("immer-nothing"),b=Symbol.for("immer-draftable"),T=Symbol.for("immer-state");function v(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var w=Object.getPrototypeOf;function E(t){return!!t&&!!t[T]}function k(t){return!!t&&(x(t)||Array.isArray(t)||!!t[b]||!!t.constructor?.[b]||P(t)||O(t))}var S=Object.prototype.constructor.toString();function x(t){if(!t||"object"!=typeof t)return!1;const e=w(t);if(null===e)return!0;const a=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return a===Object||"function"==typeof a&&Function.toString.call(a)===S}function C(t,e){0===L(t)?Reflect.ownKeys(t).forEach(a=>{e(a,t[a],t)}):t.forEach((a,n)=>e(n,a,t))}function L(t){const e=t[T];return e?e.type_:Array.isArray(t)?1:P(t)?2:O(t)?3:0}function $(t,e){return 2===L(t)?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function N(t,e,a){const n=L(t);2===n?t.set(e,a):3===n?t.add(a):t[e]=a}function P(t){return t instanceof Map}function O(t){return t instanceof Set}function A(t){return t.copy_||t.base_}function I(t,e){if(P(t))return new Map(t);if(O(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const a=x(t);if(!0===e||"class_only"===e&&!a){const e=Object.getOwnPropertyDescriptors(t);delete e[T];let a=Reflect.ownKeys(e);for(let n=0;n<a.length;n++){const r=a[n],s=e[r];!1===s.writable&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(e[r]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[r]})}return Object.create(w(t),e)}{const e=w(t);if(null!==e&&a)return{...t};const n=Object.create(e);return Object.assign(n,t)}}function R(t,e=!1){return j(t)||E(t)||!k(t)||(L(t)>1&&(t.set=t.add=t.clear=t.delete=M),Object.freeze(t),e&&Object.entries(t).forEach(([t,e])=>R(e,!0))),t}function M(){v(2)}function j(t){return Object.isFrozen(t)}var D,H={};function F(t){const e=H[t];return e||v(0),e}function B(){return D}function z(t,e){e&&(F("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function U(t){G(t),t.drafts_.forEach(W),t.drafts_=null}function G(t){t===D&&(D=t.parent_)}function q(t){return D={drafts_:[],parent_:D,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function W(t){const e=t[T];0===e.type_||1===e.type_?e.revoke_():e.revoked_=!0}function K(t,e){e.unfinalizedDrafts_=e.drafts_.length;const a=e.drafts_[0];return void 0!==t&&t!==a?(a[T].modified_&&(U(e),v(4)),k(t)&&(t=V(e,t),e.parent_||Z(e,t)),e.patches_&&F("Patches").generateReplacementPatches_(a[T].base_,t,e.patches_,e.inversePatches_)):t=V(e,a,[]),U(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==_?t:void 0}function V(t,e,a){if(j(e))return e;const n=e[T];if(!n)return C(e,(r,s)=>Y(t,n,e,r,s,a)),e;if(n.scope_!==t)return e;if(!n.modified_)return Z(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const e=n.copy_;let r=e,s=!1;3===n.type_&&(r=new Set(e),e.clear(),s=!0),C(r,(r,o)=>Y(t,n,e,r,o,a,s)),Z(t,e,!1),a&&t.patches_&&F("Patches").generatePatches_(n,a,t.patches_,t.inversePatches_)}return n.copy_}function Y(t,e,a,n,r,s,o){if(E(r)){const o=V(t,r,s&&e&&3!==e.type_&&!$(e.assigned_,n)?s.concat(n):void 0);if(N(a,n,o),!E(o))return;t.canAutoFreeze_=!1}else o&&a.add(r);if(k(r)&&!j(r)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;V(t,r),e&&e.scope_.parent_||"symbol"==typeof n||!Object.prototype.propertyIsEnumerable.call(a,n)||Z(t,r)}}function Z(t,e,a=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&R(e,a)}var J={get(t,e){if(e===T)return t;const a=A(t);if(!$(a,e))return function(t,e,a){const n=tt(e,a);return n?"value"in n?n.value:n.get?.call(t.draft_):void 0}(t,a,e);const n=a[e];return t.finalized_||!k(n)?n:n===Q(t.base_,e)?(at(t),t.copy_[e]=nt(n,t)):n},has:(t,e)=>e in A(t),ownKeys:t=>Reflect.ownKeys(A(t)),set(t,e,a){const n=tt(A(t),e);if(n?.set)return n.set.call(t.draft_,a),!0;if(!t.modified_){const n=Q(A(t),e),o=n?.[T];if(o&&o.base_===a)return t.copy_[e]=a,t.assigned_[e]=!1,!0;if(((r=a)===(s=n)?0!==r||1/r==1/s:r!=r&&s!=s)&&(void 0!==a||$(t.base_,e)))return!0;at(t),et(t)}var r,s;return t.copy_[e]===a&&(void 0!==a||e in t.copy_)||Number.isNaN(a)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=a,t.assigned_[e]=!0),!0},deleteProperty:(t,e)=>(void 0!==Q(t.base_,e)||e in t.base_?(t.assigned_[e]=!1,at(t),et(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0),getOwnPropertyDescriptor(t,e){const a=A(t),n=Reflect.getOwnPropertyDescriptor(a,e);return n?{writable:!0,configurable:1!==t.type_||"length"!==e,enumerable:n.enumerable,value:a[e]}:n},defineProperty(){v(11)},getPrototypeOf:t=>w(t.base_),setPrototypeOf(){v(12)}},X={};function Q(t,e){const a=t[T];return(a?A(a):t)[e]}function tt(t,e){if(!(e in t))return;let a=w(t);for(;a;){const t=Object.getOwnPropertyDescriptor(a,e);if(t)return t;a=w(a)}}function et(t){t.modified_||(t.modified_=!0,t.parent_&&et(t.parent_))}function at(t){t.copy_||(t.copy_=I(t.base_,t.scope_.immer_.useStrictShallowCopy_))}function nt(t,e){const a=P(t)?F("MapSet").proxyMap_(t,e):O(t)?F("MapSet").proxySet_(t,e):function(t,e){const a=Array.isArray(t),n={type_:a?1:0,scope_:e?e.scope_:B(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=n,s=J;a&&(r=[n],s=X);const{revoke:o,proxy:l}=Proxy.revocable(r,s);return n.draft_=l,n.revoke_=o,l}(t,e);return(e?e.scope_:B()).drafts_.push(a),a}function rt(t){if(!k(t)||j(t))return t;const e=t[T];let a;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,a=I(t,e.scope_.immer_.useStrictShallowCopy_)}else a=I(t,!0);return C(a,(t,e)=>{N(a,t,rt(e))}),e&&(e.finalized_=!1),a}C(J,(t,e)=>{X[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),X.deleteProperty=function(t,e){return X.set.call(this,t,e,void 0)},X.set=function(t,e,a){return J.set.call(this,t[0],e,a,t[0])};var st=new class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,e,a)=>{if("function"==typeof t&&"function"!=typeof e){const a=e;e=t;const n=this;return function(t=a,...r){return n.produce(t,t=>e.call(this,t,...r))}}let n;if("function"!=typeof e&&v(6),void 0!==a&&"function"!=typeof a&&v(7),k(t)){const r=q(this),s=nt(t,void 0);let o=!0;try{n=e(s),o=!1}finally{o?U(r):G(r)}return z(r,a),K(n,r)}if(!t||"object"!=typeof t){if(n=e(t),void 0===n&&(n=t),n===_&&(n=void 0),this.autoFreeze_&&R(n,!0),a){const e=[],r=[];F("Patches").generateReplacementPatches_(t,n,e,r),a(e,r)}return n}v(1)},this.produceWithPatches=(t,e)=>{if("function"==typeof t)return(e,...a)=>this.produceWithPatches(e,e=>t(e,...a));let a,n;return[this.produce(t,e,(t,e)=>{a=t,n=e}),a,n]},"boolean"==typeof t?.autoFreeze&&this.setAutoFreeze(t.autoFreeze),"boolean"==typeof t?.useStrictShallowCopy&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){var e;k(t)||v(8),E(t)&&(E(e=t)||v(10),t=rt(e));const a=q(this),n=nt(t,void 0);return n[T].isManual_=!0,G(a),n}finishDraft(t,e){const a=t&&t[T];a&&a.isManual_||v(9);const{scope_:n}=a;return z(n,e),K(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let a;for(a=e.length-1;a>=0;a--){const n=e[a];if(0===n.path.length&&"replace"===n.op){t=n.value;break}}a>-1&&(e=e.slice(a+1));const n=F("Patches").applyPatches_;return E(t)?n(t,e):this.produce(t,t=>n(t,e))}},ot=st.produce;st.produceWithPatches.bind(st),st.setAutoFreeze.bind(st),st.setUseStrictShallowCopy.bind(st),st.applyPatches.bind(st),st.createDraft.bind(st),st.finishDraft.bind(st);var lt="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?m:m.apply(null,arguments)};function it(t,e){function a(...a){if(e){let n=e(...a);if(!n)throw new Error(vt(0));return{type:t,payload:n.payload,..."meta"in n&&{meta:n.meta},..."error"in n&&{error:n.error}}}return{type:t,payload:a[0]}}return a.toString=()=>`${t}`,a.type=t,a.match=e=>function(t){return d(t)&&"type"in t&&"string"==typeof t.type}(e)&&e.type===t,a}"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;var ct=class t extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,t.prototype)}static get[Symbol.species](){return t}concat(...t){return super.concat.apply(this,t)}prepend(...e){return 1===e.length&&Array.isArray(e[0])?new t(...e[0].concat(this)):new t(...e.concat(this))}};function ut(t){return k(t)?ot(t,()=>{}):t}function pt(t,e,a){return t.has(e)?t.get(e):t.set(e,a(e)).get(e)}var dt=t=>e=>{setTimeout(e,t)};function gt(t){const e={},a=[];let n;const r={addCase(t,a){const n="string"==typeof t?t:t.type;if(!n)throw new Error(vt(28));if(n in e)throw new Error(vt(29));return e[n]=a,r},addMatcher:(t,e)=>(a.push({matcher:t,reducer:e}),r),addDefaultCase:t=>(n=t,r)};return t(r),[e,a,n]}var mt=Symbol.for("rtk-slice-createasyncthunk");function ht(t,e){return`${t}/${e}`}function ft({creators:t}={}){const e=t?.asyncThunk?.[mt];return function(t){const{name:a,reducerPath:n=a}=t;if(!a)throw new Error(vt(11));const r=("function"==typeof t.reducers?t.reducers(function(){function t(t,e){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...e}}return t.withTypes=()=>t,{reducer:t=>Object.assign({[t.name]:(...e)=>t(...e)}[t.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(t,e)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:e}),asyncThunk:t}}()):t.reducers)||{},s=Object.keys(r),o={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},l={addCase(t,e){const a="string"==typeof t?t:t.type;if(!a)throw new Error(vt(12));if(a in o.sliceCaseReducersByType)throw new Error(vt(13));return o.sliceCaseReducersByType[a]=e,l},addMatcher:(t,e)=>(o.sliceMatchers.push({matcher:t,reducer:e}),l),exposeAction:(t,e)=>(o.actionCreators[t]=e,l),exposeCaseReducer:(t,e)=>(o.sliceCaseReducersByName[t]=e,l)};function i(){const[e={},a=[],n]="function"==typeof t.extraReducers?gt(t.extraReducers):[t.extraReducers],r={...e,...o.sliceCaseReducersByType};return function(t){let e,[s,l,i]=gt(t=>{for(let e in r)t.addCase(e,r[e]);for(let e of o.sliceMatchers)t.addMatcher(e.matcher,e.reducer);for(let e of a)t.addMatcher(e.matcher,e.reducer);n&&t.addDefaultCase(n)});if("function"==typeof t)e=()=>ut(t());else{const a=ut(t);e=()=>a}function c(t=e(),a){let n=[s[a.type],...l.filter(({matcher:t})=>t(a)).map(({reducer:t})=>t)];return 0===n.filter(t=>!!t).length&&(n=[i]),n.reduce((t,e)=>{if(e){if(E(t)){const n=e(t,a);return void 0===n?t:n}if(k(t))return ot(t,t=>e(t,a));{const n=e(t,a);if(void 0===n){if(null===t)return t;throw Error("A case reducer on a non-draftable value must not return undefined")}return n}}return t},t)}return c.getInitialState=e,c}(t.initialState)}s.forEach(n=>{const s=r[n],o={reducerName:n,type:ht(a,n),createNotation:"function"==typeof t.reducers};!function(t){return"asyncThunk"===t._reducerDefinitionType}(s)?function({type:t,reducerName:e,createNotation:a},n,r){let s,o;if("reducer"in n){if(a&&!function(t){return"reducerWithPrepare"===t._reducerDefinitionType}(n))throw new Error(vt(17));s=n.reducer,o=n.prepare}else s=n;r.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,o?it(t,o):it(t))}(o,s,l):function({type:t,reducerName:e},a,n,r){if(!r)throw new Error(vt(18));const{payloadCreator:s,fulfilled:o,pending:l,rejected:i,settled:c,options:u}=a,p=r(t,s,u);n.exposeAction(e,p),o&&n.addCase(p.fulfilled,o),l&&n.addCase(p.pending,l),i&&n.addCase(p.rejected,i),c&&n.addMatcher(p.settled,c),n.exposeCaseReducer(e,{fulfilled:o||bt,pending:l||bt,rejected:i||bt,settled:c||bt})}(o,s,l,e)});const c=t=>t,u=new Map,p=new WeakMap;let d;function g(t,e){return d||(d=i()),d(t,e)}function m(){return d||(d=i()),d.getInitialState()}function h(e,a=!1){function n(t){let r=t[e];return void 0===r&&a&&(r=pt(p,n,m)),r}function r(e=c){const n=pt(u,a,()=>new WeakMap);return pt(n,e,()=>{const n={};for(const[r,s]of Object.entries(t.selectors??{}))n[r]=yt(s,e,()=>pt(p,e,m),a);return n})}return{reducerPath:e,getSelectors:r,get selectors(){return r(n)},selectSlice:n}}const f={name:a,reducer:g,actions:o.actionCreators,caseReducers:o.sliceCaseReducersByName,getInitialState:m,...h(n),injectInto(t,{reducerPath:e,...a}={}){const r=e??n;return t.inject({reducerPath:r,reducer:g},a),{...f,...h(r,!0)}}};return f}}function yt(t,e,a,n){function r(r,...s){let o=e(r);return void 0===o&&n&&(o=a()),t(o,...s)}return r.unwrapped=t,r}var _t=ft();function bt(){}var{assign:Tt}=Object;function vt(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}Symbol.for("rtk-state-proxy-original");const wt=_t({name:"lmat-bulk-translate",initialState:{completedPosts:[],pendingPosts:[],parentPostsInfo:{},translatePostInfo:[],progressStatus:0,targetLanguages:[],countInfo:{totalPosts:0,postsTranslated:0,stringsTranslated:0,charactersTranslated:0,errorPosts:0},translatedContent:{},serviceProvider:"",blockParseRules:{},allowedMetaFields:{},errorPostsInfo:{},glossaryTerms:{}},reducers:{updateCompletedPosts:(t,e)=>{t.completedPosts=[...t.completedPosts||[],...e.payload]},updatePendingPosts:(t,e)=>{t.pendingPosts=[...t.pendingPosts||[],...e.payload]},unsetPendingPost:(t,e)=>{t.pendingPosts=t.pendingPosts.filter(t=>t!==e.payload)},updateTranslatePostInfo:(t,e)=>{e.payload&&"object"==typeof e.payload&&(Array.isArray(e.payload)||(t.translatePostInfo={...t.translatePostInfo,...Object.keys(e.payload).reduce((a,n)=>(a[n]={...t.translatePostInfo?.[n]||{},...e.payload[n]},a),{})}))},updateProgressStatus:(t,e)=>{t.progressStatus+=e.payload},updateCountInfo:(t,e)=>{t.countInfo={...t.countInfo,...e.payload}},updateSourceContent:(t,e)=>{t.translatedContent={...t.translatedContent,[e.payload.postId]:{...t.translatedContent?.[e.payload.postId]||{},[e.payload.uniqueKey]:{...t.translatedContent?.[e.payload.postId]?.[e.payload.uniqueKey]||{},source:e.payload.value}}}},updateTargetContent:(t,e)=>{t.translatedContent={...t.translatedContent,[e.payload.postId]:{...t.translatedContent?.[e.payload.postId]||{},[e.payload.uniqueKey]:{...t.translatedContent?.[e.payload.postId]?.[e.payload.uniqueKey]||{},targetContent:e.payload.value}}}},updateTranslatedContent:(t,e)=>{t.translatedContent={...t.translatedContent,[e.payload.postId]:{...t.translatedContent?.[e.payload.postId]||{},[e.payload.uniqueKey]:{...t.translatedContent?.[e.payload.postId]?.[e.payload.uniqueKey]||{},translation:{...e.payload.translation||{},[e.payload.provider]:{...e.payload.translation?.[e.payload.provider]||{},[e.payload.key]:e.payload.value}}}}}},updateParentPostsInfo:(t,e)=>{t.parentPostsInfo={...t.parentPostsInfo,[e.payload.postId]:{...t.parentPostsInfo?.[e.payload.postId]||{},...e.payload.data}}},updateServiceProvider:(t,e)=>{["localAiTranslator","google"].includes(e.payload)&&(t.serviceProvider=e.payload)},updateTargetLanguages:(t,e)=>{e.payload.lang&&e.payload.lang.length>0&&(t.targetLanguages=[...t.targetLanguages,...e.payload.lang])},updateBlockParseRules:(t,e)=>{t.blockParseRules=e.payload},updateAllowedMetaFields:(t,e)=>{t.allowedMetaFields=e.payload},updateErrorPostsInfo:(t,e)=>{t.errorPostsInfo={...t.errorPostsInfo,[e.payload.postId]:e.payload.data}},updateGlossaryTerms:(t,e)=>{t.glossaryTerms={...t.glossaryTerms,[e.payload.sourceLanguage]:{...t.glossaryTerms?.[e.payload.sourceLanguage]||{},translations:e.payload.translations}}},resetStore:t=>{t.pendingPosts=[],t.progressStatus=0,t.completedPosts=[],t.translatePostInfo=[],t.targetLanguages=[],t.serviceProvider="",t.parentPostsInfo={},t.countInfo={totalPosts:0,postsTranslated:0,stringsTranslated:0,charactersTranslated:0,errorPosts:0},t.translatedContent={},t.blockParseRules={},t.allowedMetaFields={},t.errorPostsInfo={},t.glossaryTerms={}}}}),{updateTranslationsLanguages:Et,updateCompletedPosts:kt,updatePendingPosts:St,unsetPendingPost:xt,updateTranslatePostInfo:Ct,updateProgressStatus:Lt,updateCountInfo:$t,updateSourceContent:Nt,updateTranslatedContent:Pt,resetStore:Ot,updateTargetContent:At,updateParentPostsInfo:It,updateServiceProvider:Rt,updateTargetLanguages:Mt,updateBlockParseRules:jt,updateAllowedMetaFields:Dt,updateErrorPostsInfo:Ht,updateGlossaryTerms:Ft}=wt.actions,Bt=function(t){const e=function(t){const{thunk:e=!0,immutableCheck:a=!0,serializableCheck:n=!0,actionCreatorCheck:r=!0}=t??{};let s=new ct;return e&&("boolean"==typeof e?s.push(f):s.push(y(e.extraArgument))),s},{reducer:a,middleware:n,devTools:r=!0,duplicateMiddlewareCheck:s=!0,preloadedState:o,enhancers:l}=t||{};let c,u;if("function"==typeof a)c=a;else{if(!d(a))throw new Error(vt(1));c=function(t){const e=Object.keys(t),a={};for(let n=0;n<e.length;n++){const r=e[n];"function"==typeof t[r]&&(a[r]=t[r])}const n=Object.keys(a);let r;try{!function(t){Object.keys(t).forEach(e=>{const a=t[e];if(void 0===a(void 0,{type:p.INIT}))throw new Error(i(12));if(void 0===a(void 0,{type:p.PROBE_UNKNOWN_ACTION()}))throw new Error(i(13))})}(a)}catch(t){r=t}return function(t={},e){if(r)throw r;let s=!1;const o={};for(let r=0;r<n.length;r++){const l=n[r],c=a[l],u=t[l],p=c(u,e);if(void 0===p)throw e&&e.type,new Error(i(14));o[l]=p,s=s||p!==u}return s=s||n.length!==Object.keys(t).length,s?o:t}}(a)}u="function"==typeof n?n(e):e();let h=m;r&&(h=lt({trace:!1,..."object"==typeof r&&r}));const _=function(...t){return e=>(a,n)=>{const r=e(a,n);let s=()=>{throw new Error(i(15))};const o={getState:r.getState,dispatch:(t,...e)=>s(t,...e)},l=t.map(t=>t(o));return s=m(...l)(r.dispatch),{...r,dispatch:s}}}(...u),b=(t=>function(e){const{autoBatch:a=!0}=e??{};let n=new ct(t);return a&&n.push(((t={type:"raf"})=>e=>(...a)=>{const n=e(...a);let r=!0,s=!1,o=!1;const l=new Set,i="tick"===t.type?queueMicrotask:"raf"===t.type?"undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:dt(10):"callback"===t.type?t.queueNotification:dt(t.timeout),c=()=>{o=!1,s&&(s=!1,l.forEach(t=>t()))};return Object.assign({},n,{subscribe(t){const e=n.subscribe(()=>r&&t());return l.add(t),()=>{e(),l.delete(t)}},dispatch(t){try{return r=!t?.meta?.RTK_autoBatch,s=!r,s&&(o||(o=!0,i(c))),n.dispatch(t)}finally{r=!0}}})})("object"==typeof a?a:void 0)),n})(_);return g(c,o,h(..."function"==typeof l?l(b):b()))}({reducer:wt.reducer}),zt=(t,e,a,n,r)=>{r(Nt({postId:t,uniqueKey:e,value:a})),r(At({postId:t,uniqueKey:e,value:n}));const s=Bt.getState().parentPostsInfo[t],o=(s?.charactersCount||0)+a.length,l=(s?.wordsCount||0)+("string"==typeof a?a.split(/\s+/).filter(t=>/[^\p{L}\p{N}]/.test(t)).length:0),i=(s?.stringsCount||0)+("string"==typeof a?a.split(/(?<=[.!?]+)\s+/).length:0);r(It({postId:t,data:{charactersCount:o,wordsCount:l,stringsCount:i}}))},Ut=t=>t.serviceProvider,Gt=t=>t.pendingPosts,qt=t=>t.translatePostInfo,Wt=t=>t.progressStatus,Kt=t=>t.countInfo,Vt=t=>t.errorPostsInfo,Yt=(t,e)=>t.glossaryTerms[e]?.translations,Zt=(t,e,a,n,r)=>t.translatedContent[e]?.[a]?.translation?.[r]?.[n]||t.translatedContent[e]?.[a]?.source,Jt=(t,e)=>{const a={};return Object.keys(t.translatedContent[e]).forEach(n=>{t.translatedContent[e][n]?.source&&(a[n]=t.translatedContent[e][n]?.source)}),a},Xt=(t,e)=>{const a={};return t.translatedContent[e]&&Object.keys(t.translatedContent[e]).length>0&&Object.keys(t.translatedContent[e]).forEach(n=>{t.translatedContent[e][n]?.targetContent&&(a[n]=t.translatedContent[e][n]?.targetContent)}),a},Qt=async({content:t,glossaryTerms:e})=>{if(!e||"object"!=typeof e||Object.values(e).length<1)return t;const a=Object.values(e).map(t=>t.original_term.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("|");if(!a)return t;const n=new RegExp(`(?:(?<=>)|^)(?![^<]*(?:>|&lt;|&gt;))(?:[^<\\[]*?)\\b(${a})\\b([^<\\[]*)(?=<|$)`,"gi");return t.replace(n,t=>{let a=t;for(const t of Object.values(e)){const e=t.original_term.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),n=new RegExp(`(\\s*)(${e})(\\s*)`,"gi");a=a.replace(n,(t,e,a,n)=>`<span class="no-translate" translate="no" data-glossary-term="${a}">${e}${a}${n}</span>`)}return a})},te=async({content:t,service:e,postId:a,storeDispatch:n,filterHtmlContent:r,sourceLanguage:o})=>{const i=Yt(Bt.getState(),o),c=async(t,e,a)=>{await t(e[a],a),++a<e.length&&await c(t,e,a)};await(async({content:t,service:e})=>{const o=(t=>{const e=[],a=/(\r\n|\r|\n)/g;let n,r=0;for(;null!==(n=a.exec(t));){n.index>r&&e.push(t.slice(r,n.index));const s=n[0];e.push(`lmat_bulk_content_temp_${s}_lmat_bulk_content_temp`),r=a.lastIndex}return r<t.length&&e.push(t.slice(r)),e})(t);o.length>0&&await c(async(t,o)=>{const c=/^&[a-zA-Z0-9#]+;$/.test(t),u=/^<\/?\s*[a-zA-Z0-9#]+\s*\/?>$/.test(t),p=/^<\s*\/?\s*[a-zA-Z0-9#]+\s*><\/\s*\/?\s*[a-zA-Z0-9#]+\s*>$/.test(t),d=/<!--[\s\S]*?-->/g.test(t)&&t.indexOf("\x3c!--")<t.indexOf("--\x3e"),g=!(c||u||p||d);if(""!==t&&!t.includes("lmat_bulk_content_temp_")&&g){let c=t;if(r){let a=s({content:t,service:e,contentKey:"content_classic_index_"+o,skipTags:[]});c=await l(a),["google","localAiTranslator"].includes(e)&&i&&Object.values(i).length>0&&(c=await Qt({content:c,glossaryTerms:i})),a=null}zt(a,"content_classic_index_"+o,t,c,n)}},o,0)})({content:t,service:e})},ee=async({content:t,service:e,postId:a,storeDispatch:n,filterHtmlContent:r,sourceLanguage:o})=>{const i={},c=Yt(Bt.getState(),o),u=async(t,e,a)=>{await t(e[a],a),++a<e.length&&await u(t,e,a)},p=async(t,o)=>{if("string"==typeof o&&""!==o.trim()&&t.length>0){const u=t.join("_lmat_bulk_content_temp_");let p=o;if(r){let t=s({content:o,service:e,contentKey:u,skipTags:["script","style"]});p=await l(t),["google","localAiTranslator"].includes(e)&&c&&Object.values(c).length>0&&(p=await Qt({content:p,glossaryTerms:c})),t=null}zt(a,u,o,p,n),p&&""!==p&&(i[u]=p)}},d=["content_width","title_size","font_size","margin","padding","background","border","color","text_align","font_weight","font_family","line_height","letter_spacing","text_transform","border_radius","box_shadow","opacity","width","height","display","position","z_index","visibility","align","max_width","content_typography_typography","flex_justify_content","title_color","description_color","email_content"],g=t=>["title","description","editor","text","content","label"].some(e=>t.toLowerCase().includes(e))||["caption","heading","sub_heading","testimonial_content","testimonial_job","testimonial_name","name"].some(e=>t===e),m=async(t,e,a=[])=>{const n=t.settings;if(a.push(e),"object"==typeof n&&null!==n&&Object.keys(n).length>0){const t=async(t,e)=>{if(!d.some(e=>t.toLowerCase().includes(e))&&(g(t)&&"string"==typeof n[t]&&""!==n[t].trim()&&await p([...a,"settings",t],n[t]),Array.isArray(n[t])&&n[t].length>0)){const e=async(e,n)=>{if("object"==typeof e&&null!==e){const r=async r=>{d.includes(r.toLowerCase())||g(r)&&"string"==typeof e[r]&&""!==e[r].trim()&&await p([...a,"settings",t,n,r],e[r])};await u(r,Object.keys(e),0)}};await u(e,n[t],0)}};await u(t,Object.keys(n),0)}if(t.elements&&Array.isArray(t.elements)&&t.elements.length>0){const e=async(t,e)=>{await m(t,e,[...a,"elements"])};await u(e,t.elements,0)}};if(t&&t.length>0){const e=async(t,e)=>{await m(t,e,["content"])};await u(e,t,0)}},ae=async({content:t,service:e,blockParseRules:a,postId:n,storeDispatch:r,filterHtmlContent:o,sourceLanguage:i})=>{const c=Object.keys(a?.LmatBlockParseRules),u=Yt(Bt.getState(),i),p=async(t,e,a)=>{await t(e[a],a),++a<e.length&&await p(t,e,a)},d=async(t,a,n=[])=>{let r=t;if(o){let o=s({content:t,service:e,contentKey:a,skipTags:n});r=await l(o),["google","localAiTranslator"].includes(e)&&u&&Object.values(u).length>0&&(r=await Qt({content:r,glossaryTerms:u})),o=null}return r},g=async(t,e,a)=>{zt(n,t,e,a,r)},m=async(t,e)=>{let n=!1,r=[];if(c.includes(e.blockName)&&e.attrs&&Object.keys(e.attrs).length>0&&(r=await y([...t,"attrs"],e,a?.LmatBlockParseRules[e.blockName])),e.innerContent&&e.innerContent.length>0&&r.length>0){const t=e.innerContent.join(" ");let a=document.createElement("div");a.innerHTML=t;const s=a.innerText.split(" ").length;let o=0;r.forEach(t=>{a.innerText.includes(t)&&(o+=t.split(" ").length)}),100*o/s>97&&(n=!0),a=null}if(e.innerContent&&e.innerContent.length>0&&!n){let a=e.innerHTML?e.innerHTML.trim():"";a=a.replace(/\s/g,""),a&&""!==a&&await h([...t,"innerContent"],e.innerContent)}if(e.innerBlocks&&e.innerBlocks.length>0){const a=async(e,a)=>{await m([...t,"innerBlocks",a],e)};await p(a,e.innerBlocks,0)}},h=async(t,e)=>{await p(async(a,n)=>{let r=document.createElement("div");if(r.innerHTML=a,""===r.innerText.trim())return;r=null;let s=a?a.trim():"";if(s=s.replace(/\s/g,""),s&&""!==s){const a=[...t,n].join("_lmat_bulk_content_temp_"),r=await d(e[n],a,["script","style"]);r&&""!==r&&g(a,e[n],r)}},e,0)},f=async(t,e,a,n=[])=>{if(Object.getPrototypeOf(t)===Object.prototype){const r=Object.keys(t),s=async(r,s)=>{if("boolean"==typeof t[r]&&!0===t[r]&&a&&a[r]){const t=[...e,r].join("_lmat_bulk_content_temp_"),s=await d(a[r],t);s&&""!==s&&(n.push(s),g(t,a[r],s))}else Object.getPrototypeOf(t[r])!==Object.prototype&&Object.getPrototypeOf(t[r])!==Array.prototype||await f(t[r],[...e,r],a[r])};await p(s,r,0)}else if(Object.getPrototypeOf(t)===Array.prototype){const r=async(a,r)=>{if("boolean"==typeof t[0]&&!0===t[0]){const t=[...e,r].join("_lmat_bulk_content_temp_"),s=await d(a,t);s&&""!==s&&(n.push(s),g(t,a,s))}else Object.getPrototypeOf(t[0])!==Object.prototype&&Object.getPrototypeOf(t[0])!==Array.prototype||await f(t[0],[...e,r],a,n)};await p(r,a,0)}},y=async(t,e,a)=>{const n=[];let r=e?.attrs;const s=Object.keys(r),o=Object.keys(a?.attributes).filter(t=>s.includes(t));return await p(async(e,s)=>{const o=a?.attributes[e],l=JSON.parse(JSON.stringify(t));if(!0===o){l.push(e);const t=l.join("_lmat_bulk_content_temp_");if(r[e]&&""!==r[e]){const a=await d(r[e],t);a&&""!==a&&(n.push(a),g(t,r[e],a))}}else"object"==typeof o&&await f(o,[...t,e],r[e],n)},o,0),n};await(async t=>{await p(async(e,n)=>{if(c.includes(t[e].blockName)&&t[e].attrs)await m(["content",e],t[e],a?.LmatBlockParseRules[t[e].blockName]);else if(t[e].innerBlocks&&t[e].innerBlocks.length>0){const a=async(t,a)=>{await m(["content",e,"innerBlocks",a],t)};await p(a,t[e].innerBlocks,0)}},Object.keys(t),0)})(t)},ne=async({content:t,service:e,postId:a,storeDispatch:n,filterHtmlContent:r})=>"true"===lmatBulkTranslationGlobal.postMetaSync&&"taxonomy"!==lmatBulkTranslationGlobal.taxonomy_page?t:await te({content:t,service:e,postId:a,storeDispatch:n,filterHtmlContent:r}),re=async({content:t,service:e,postId:a,storeDispatch:n})=>((t=>{if(!t||""===t.trim())return;const e=/\[lmat_val[^\]]*?id=["'](___LMAT_[a-f0-9]{32}___)["'][^\]]*?\](.*?)\[\/lmat_val\]/gis;let r,s=0;for(;null!==(r=e.exec(t));){const t=r[1],e=r[2];e&&""!==e.trim()&&(zt(a,`wpbakery_lmat_val_${s}_${t}`,e,e,n),s++)}})(t),t),se=(t,e,a,n)=>{const r=Bt.getState().allowedMetaFields,s=t,o=(t,r)=>{Object.keys(r).forEach(l=>{const i=[...t,l],c="metaFields_lmat_"+i.join("_lmat_bulk_content_temp_");if("string"==typeof r[l]){const t=Zt(Bt.getState(),n,c,e,a);let r=s;t&&""!==t&&i.forEach((e,a)=>{a!==i.length-1?(r.hasOwnProperty(e)||(r[e]={}),r=r[e]):r[e]=t})}"object"==typeof r[l]&&Object.keys(r[l]).length>0&&(s[c]=o(i,r[l]))})};return t&&Object.keys(t).length>0&&Object.keys(t).forEach(l=>{if(r&&r[l]&&"object"==typeof t[l]&&Object.keys(t[l]).length>0)o([l],t[l]);else if("string"==typeof t[l]&&r&&r[l]&&r[l].status){const t="metaFields_lmat_"+l,r=Zt(Bt.getState(),n,t,e,a);r&&""!==r&&(s[l]=r)}}),s},oe=async({source:t,lang:e,translatedContent:a,serviceProvider:n,postId:r})=>{const s=t=>Zt(Bt.getState(),r,t,e,n),o=async(t,e,a)=>{await t(e[a],a),++a<e.length&&await o(t,e,a)};return await(async(t,e)=>{e&&""!==e&&(t.title=await s("title"))})(t,t.title),await(async(t,e)=>{e&&""!==e&&(t.post_name=await s("post_name"))})(t,t.post_name),await(async(t,e)=>{e&&""!==e&&(t.excerpt=await s("excerpt"))})(t,t.excerpt),await(async({content:a})=>{const s=function(t){const e=[],a=/(\r\n|\r|\n)/g;let n,r=0;for(;null!==(n=a.exec(t));){n.index>r&&e.push(t.slice(r,n.index));const s=n[0];e.push(`lmat_bulk_content_temp_${s}_lmat_bulk_content_temp`),r=a.lastIndex}return r<t.length&&e.push(t.slice(r)),e}(a),l=[];s.length>0&&await o(async(t,a)=>{const s=/^&[a-zA-Z0-9#]+;$/.test(t),o=/^<\/?\s*[a-zA-Z0-9#]+\s*\/?>$/.test(t),i=/^<\s*\/?\s*[a-zA-Z0-9#]+\s*><\/\s*\/?\s*[a-zA-Z0-9#]+\s*>$/.test(t),c=/<!--[\s\S]*?-->/g.test(t)&&t.indexOf("\x3c!--")<t.indexOf("--\x3e"),u=!(s||o||i||c);if(""!==t&&!t.includes("lmat_bulk_content_temp_")&&u){const t="content_classic_index_"+a,s=Zt(Bt.getState(),r,t,e,n);l.push(s)}else if(t.includes("lmat_bulk_content_temp_")){const e=t.replace("lmat_bulk_content_temp_","").replace("_lmat_bulk_content_temp","");l.push(e)}else l.push(t)},s,0),t.content=l.join("")})({content:t.content}),"false"===lmatBulkTranslationGlobal.postMetaSync&&t.metaFields&&Object.keys(t.metaFields).length>0&&(t.metaFields=se(t.metaFields,e,n,r)),t},le=async({source:t,lang:e,translatedContent:a,serviceProvider:n,postId:r})=>{const s=t=>Zt(Bt.getState(),r,t,e,n);return((t,e)=>{Object.keys(e).forEach(a=>{const n=a.split("_lmat_bulk_content_temp_");if("title"===n[0])((t,e)=>{e&&""!==e&&(t.title=s("title"))})(t,e[n[0]]);else if("post_name"===n[0])((t,e)=>{e&&""!==e&&(t.post_name=s("post_name"))})(t,e[n[0]]);else if("excerpt"===n[0])((t,e)=>{e&&""!==e&&(t.excerpt=s("excerpt"))})(t,e[n[0]]);else if("content"===n[0]){let e=n,r=t.content;const o=s(a);let l=null,i=null;e=e.slice(1),e.forEach(t=>{l=r,i=t,r=r[t]}),l&&i&&((t,e,a)=>{!t||!t[e]||"string"!=typeof t[e]||""===t[e].trim()||(t[e]=a)})(l,i,o)}})})(t,a),"false"===lmatBulkTranslationGlobal.postMetaSync&&t.metaFields&&Object.keys(t.metaFields).length>0&&(t.metaFields=se(t.metaFields,e,n,r)),t},ie=async({source:t,lang:e,translatedContent:a,serviceProvider:n,postId:r})=>{const s=[];Bt.getState().blockParseRules;const o=Jt(Bt.getState(),r),l=(t,e,a)=>!(!t||!t[e]||"string"!=typeof t[e]||""===t[e].trim()||(t[e]=a,0)),i=e=>{const n=e.replace(/(_lmat_bulk_content_temp_\d+)$/,""),r=Object.keys(a).filter(t=>t.includes(n));s.push(...r);const o=[];r.forEach(e=>{let a=e.split("_lmat_bulk_content_temp_"),n=t.content;const r=c(e);let s=null,i=null;a=a.slice(1),a.forEach(t=>{s=n,i=t,n=n[t]}),s&&i&&s[i]&&l(s,i,r)&&o.push(r)});let i=null,u=null,p=t.content;n.split("_lmat_bulk_content_temp_").slice(1).forEach(t=>{i=p,u=t,p=p[t]}),i&&u&&i[u]&&"innerContent"===u&&i.innerHTML&&""!==i.innerHTML.trim()&&l(i,"innerHTML",o.join(""))},c=t=>Zt(Bt.getState(),r,t,e,n),u=a=>{if(Object.keys(o).filter(t=>t.startsWith("content_lmat_bulk_content_temp_"+a+"_lmat_bulk_content_temp_innerContent")).length>0)return;let s=Object.keys(o).filter(t=>t.startsWith("content_lmat_bulk_content_temp_"+a+"_lmat_bulk_content_temp_attrs")),l={};s.forEach(t=>{const a=((t,e,a)=>t.translatedContent[e]?.[a]?.source)(Bt.getState(),r,t),s=Zt(Bt.getState(),r,t,e,n);a&&s&&""!==a&&""!==s&&(l[a]=s)});let i=Object.entries(l).sort((t,e)=>e[0].split(/\s+/).length-t[0].split(/\s+/).length).reduce((t,[e,a])=>(t[e]=a,t),{}),c=a.split("_lmat_bulk_content_temp_"),u=t.content,d=null,g=null;c.forEach(t=>{d=u,g=t,u=u[t]}),p(u,i),s=null,l=null,i=null,c=null,u=null,d=null,g=null},p=(t,e)=>{if(t&&t.innerHTML&&""!==t.innerHTML.trim()){if("core/more"===t.blockName){const a=Object.keys(e)[0],n=e[a],r=new RegExp(`\x3c!--more\\s+${a}`,"g");return t.innerHTML=t.innerHTML.replace(r,`\x3c!--more ${n}`),void(t.innerContent&&t.innerContent.length>0&&t.innerContent.forEach((e,r)=>{const s=new RegExp(`\x3c!--more\\s+${a}`,"g");t.innerContent[r]=e.replace(s,`\x3c!--more ${n}`)}))}let a=t.innerHTML;Object.keys(e).forEach(t=>{const n=new RegExp(`(?<!<[^>]*)${t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}(?![^<]*>)`,"g");a=a.replace(n,e[t])}),t.innerHTML=a,a=null,t.innerContent&&t.innerContent.length>0&&t.innerContent.forEach((a,n)=>{if(a&&a&&""!==a.trim()){let r=a;Object.keys(e).forEach(t=>{const a=new RegExp(`(?<!<[^>]*)${t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}(?![^<]*>)`,"g");r=r.replace(a,e[t])}),t.innerContent[n]=r,r=null}})}};return((t,e)=>{const a=[];Object.keys(e).forEach(n=>{const r=n.split("_lmat_bulk_content_temp_");if("title"===r[0])((t,e)=>{e&&""!==e&&(t.title=c("title"))})(t,e[r[0]]);else if("post_name"===r[0])((t,e)=>{e&&""!==e&&(t.post_name=c("post_name"))})(t,e[r[0]]);else if("excerpt"===r[0])((t,e)=>{e&&""!==e&&(t.excerpt=c("excerpt"))})(t,e[r[0]]);else if("content"===r[0]){let e=r,o=t.content;const u=c(n);let p=null,d=null;if(e=e.slice(1),e.includes("attrs")){const n=e.indexOf("attrs"),r=e.slice(0,n);let s=null,o=t.content;const l=r.join("_lmat_bulk_content_temp_");a.includes(l)||(r.forEach(t=>{s=t,o=o[t]}),(o&&"core/more"===o.blockName||o&&!o.blockName.startsWith("core/")&&(o.innerHTML&&""!==o.innerHTML.trim()||o.originalContent&&""!==o.originalContent.trim()))&&a.push(l))}e.forEach(t=>{p=o,d=t,o=o[t]}),p&&d&&n.includes("innerContent")&&!s.includes(n)?i(n):p&&d&&l(p,d,u)}}),a.forEach(t=>{u(t)})})(t,a),"false"===lmatBulkTranslationGlobal.postMetaSync&&t.metaFields&&Object.keys(t.metaFields).length>0&&(t.metaFields=se(t.metaFields,e,n,r)),t},ce=async({source:t,lang:e,serviceProvider:a,postId:n})=>"true"===lmatBulkTranslationGlobal.postMetaSync&&"taxonomy"!==lmatBulkTranslationGlobal.taxonomy_page?t:await oe({source:t,lang:e,serviceProvider:a,postId:n}),ue=async({source:t,lang:e,translatedContent:a,serviceProvider:n,postId:r})=>{const s=t=>Zt(Bt.getState(),r,t,e,n);return await(async(t,e)=>{e&&""!==e&&(t.title=await s("title"))})(t,t.title),await(async(t,e)=>{e&&""!==e&&(t.post_name=await s("post_name"))})(t,t.post_name),await(async(t,e)=>{e&&""!==e&&(t.excerpt=await s("excerpt"))})(t,t.excerpt),await(async({content:e})=>{t.content=(t=>{const e=/\[lmat_val[^\]]*?id=["'](___LMAT_[a-f0-9]{32}___)["'][^\]]*?\](.*?)\[\/lmat_val\]/gis;let a,n=t,r=0;const o=[],l=[];for(;null!==(a=e.exec(t));){const e=a[0],n=a[1],i=a[2];if(!i||""===i.trim())continue;const c=s(`wpbakery_lmat_val_${r}_${n}`);c&&(t.replace(e,"").includes(n)?l.push({token:n,translatedValue:c}):o.push({fullMatch:e,translatedValue:c})),r++}return o.forEach(t=>{n=n.replace(t.fullMatch,t.translatedValue)}),l.forEach(t=>{const e=new RegExp(t.token.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g");n=n.replace(e,t.translatedValue)}),n=n.replace(/\s*\[lmat_val[^\]]*?\].*?\[\/lmat_val\]/gis,""),n=(t=>t&&t.includes("___LMAT_PROTECTED_")?t.replace(/___LMAT_PROTECTED_([A-Za-z0-9+\/=]+)(?:___|__|$)/g,(t,e)=>{try{return atob(e)||""}catch(t){return console.warn("Failed to decode protected attribute:",e),""}}):t)(n),n})(e)})({content:t.content}),"false"===lmatBulkTranslationGlobal.postMetaSync&&t.metaFields&&Object.keys(t.metaFields).length>0&&(t.metaFields=se(t.metaFields,e,n,r)),t};class pe{static Object=t=>new this(t).extraData();constructor(t){this.textContentObject=t.textContentObject,this.onStartTranslationProcess=t.onStartTranslationProcess||(()=>{}),this.onComplete=t.onComplete||(()=>{}),this.onLanguageError=t.onLanguageError||(()=>{}),this.onBeforeTranslate=t.onBeforeTranslate||(()=>{}),this.onAfterTranslate=t.onAfterTranslate||(()=>{}),this.sourceLanguage=t.sourceLanguage||"en",this.targetLanguage=t.targetLanguage||"hi",this.sourceLanguageLabel=t.sourceLanguageLabel||"English",this.targetLanguageLabel=t.targetLanguageLabel||"Hindi"}extraData=async()=>{const t=await pe.languageSupportedStatus(this.sourceLanguage,this.targetLanguage,this.targetLanguageLabel,this.sourceLanguageLabel);return!0!==t?(this.onLanguageError(t),{}):(this.defaultLang=this.targetLanguage,{continueTranslation:this.continueTranslation,stopTranslation:this.stopTranslation,startTranslation:this.startTranslation,reInit:this.reInit,init:this.init})};static languageSupportedStatus=async(t,e,a,n)=>{const r=["en","es","ja","ar","de","bn","fr","hi","it","ko","nl","pl","pt","ru","th","tr","vi","zh","zh-hant","bg","cs","da","el","fi","hr","hu","id","iw","lt","no","ro","sk","sl","sv","uk","kn","ta","te","mr"].map(t=>t.toLowerCase()),s="https:"===window.location.protocol,o=window?.isSecureContext;if(!window.hasOwnProperty("chrome")||!navigator.userAgent.includes("Chrome")||navigator.userAgent.includes("Edg"))return{html:jQuery('<span style="color: #ff4646; display: inline-block;">\n                <strong>Important Notice:</strong>\n                <ol>\n                    <li>The Translator API, which leverages Chrome local AI models, is designed specifically for use with the Chrome browser.</li>\n                    <li>For comprehensive information about the Translator API, <a href="https://developer.chrome.com/docs/ai/translator-api" target="_blank">click here</a>.</li>\n                </ol>\n                <p>Please ensure you are using the Chrome browser for optimal performance and compatibility.</p>\n            </span>'),message:"Browser not supported",type:"browser-not-supported"};if(!("translation"in self&&"createTranslator"in self.translation||"ai"in self&&"translator"in self.ai||"Translator"in self&&"create"in self.Translator||s||o))return{html:jQuery(`<span style="color: #ff4646; display: inline-block;">\n                <strong>Important Notice:</strong>\n                <ol>\n                    <li>\n                        The Translator API is not functioning due to an insecure connection.\n                    </li>\n                    <li>\n                        Please switch to a secure connection (HTTPS) or add this URL to the list of insecure origins treated as secure by visiting \n                        <span data-clipboard-text="chrome://flags/#unsafely-treat-insecure-origin-as-secure" target="_blank" class="chrome-ai-translator-flags">\n                            chrome://flags/#unsafely-treat-insecure-origin-as-secure ${pe.svgIcons("copy")}\n                        </span>.\n                        Click on the URL to copy it, then open a new window and paste this URL to access the settings.\n                    </li>\n                </ol>\n            </span>`),message:"Browser not supported",type:"browser-not-supported"};if(!("translation"in self&&"createTranslator"in self.translation||"ai"in self&&"translator"in self.ai||"Translator"in self&&"create"in self.Translator))return{html:jQuery(`<span style="color: #ff4646; display: inline-block;">\n                <h4>Steps to Enable the Translator AI Modal:</h4>\n                <ol>\n                    <li>Open this URL in a new Chrome tab: <strong><span data-clipboard-text="chrome://flags/#translation-api" target="_blank" class="chrome-ai-translator-flags">chrome://flags/#translation-api ${pe.svgIcons("copy")}</span></strong>. Click on the URL to copy it, then open a new window and paste this URL to access the settings.</li>\n                    <li>Ensure that the <strong>Experimental translation API</strong> option is set to <strong>Enabled</strong>.</li>\n                    <li>Click on the <strong>Save</strong> button to apply the changes.</li>\n                    <li>The Translator AI modal should now be enabled and ready for use.</li>\n                </ol>\n                <p>For more information, please refer to the <a href="https://developer.chrome.com/docs/ai/translator-api" target="_blank">documentation</a>.</p>   \n                <p>If the issue persists, please ensure that your browser is up to date and restart your browser.</p>\n                <p>If you continue to experience issues after following the above steps, please <a href="https://my.coolplugins.net/account/support-tickets/" target="_blank" rel="noopener">open a support ticket</a> with our team. We are here to help you resolve any problems and ensure a smooth translation experience.</p>\n            </span>`),message:"Translation API not available",type:"translation-api-not-available"};if(!r.includes(e.toLowerCase()))return{html:jQuery(`<span style="color: #ff4646; display: inline-block;">\n                <strong>Language Support Information:</strong>\n                <ol>\n                    <li>The current version of Chrome AI Translator does not support the Target Language <strong>${a} (${e})</strong></li>\n                    <li>To view the list of supported languages, please <span data-clipboard-text="chrome://on-device-translation-internals" target="_blank" class="chrome-ai-translator-flags">chrome://on-device-translation-internals ${pe.svgIcons("copy")}</span>. Click on the URL to copy it, then open a new window and paste this URL to access the settings.</li>\n                    <li>Ensure your Chrome browser is updated to the latest version for optimal performance.</li>\n                </ol>\n            </span>`),message:`Target Language not supported: ${a} (${e})`,type:"language-not-supported"};if(!r.includes(t.toLowerCase()))return{html:jQuery(`<span style="color: #ff4646; display: inline-block;">\n                <strong>Language Support Information:</strong>\n                <ol>\n                    <li>The current version of Chrome AI Translator does not support the Source Language <strong>${n} (${t})</strong></li>\n                    <li>To view the list of supported languages, please <span data-clipboard-text="chrome://on-device-translation-internals" target="_blank" class="chrome-ai-translator-flags">chrome://on-device-translation-internals ${pe.svgIcons("copy")}</span>. Click on the URL to copy it, then open a new window and paste this URL to access the settings.</li>\n                    <li>Ensure your Chrome browser is updated to the latest version for optimal performance.</li>\n                </ol>\n            </span>`),message:`Source Language not supported: ${n} (${t})`,type:"language-not-supported"};const l=await pe.languagePairAvality(t,e);return"after-download"===l||"downloadable"===l||"unavailable"===l?{html:jQuery(`<span style="color: #ff4646; display: inline-block;">\n                <h4>Installation Instructions for Language Packs:</h4>\n                <ol>\n                    <li>\n                        To proceed, please install the language pack for <strong>${a} (${e})</strong> or <strong>${n} (${t})</strong>.\n                    </li>\n                    <li>\n                        After installing the language pack, add this language to your browser's system languages in Chrome settings.<br>\n                        Go to <strong>Settings &gt; Languages &gt; Add languages</strong> and add <strong>${a}</strong> or <strong>${n}</strong> to your preferred languages list & reload the page.\n                    </li>\n                    <li>\n                        You can install it by visiting the following link: \n                        <strong>\n                            <span data-clipboard-text="chrome://on-device-translation-internals" target="_blank" class="chrome-ai-translator-flags">\n                                chrome://on-device-translation-internals ${pe.svgIcons("copy")}\n                            </span>\n                        </strong>. Click on the URL to copy it, then open a new window and paste this URL to access the settings.\n                    </li>\n                    <li>\n                        Please check if both your source <strong>(<span style="color:#2271b1">${t}</span>)</strong> and target <strong>(<span style="color:#2271b1">${e}</span>)</strong> languages are available in the language packs list.\n                    </li>\n                    <li>\n                        You need to install both language packs for translation to work. You can search for each language by its language code: <strong>${t}</strong> and <strong>${e}</strong>.\n                    </li>\n                    <li>For more help, refer to the <a href="https://developer.chrome.com/docs/ai/translator-api#supported-languages" target="_blank">documentation to check supported languages</a>.</li>\n                </ol>\n            </span>`),message:`Language pack not installed: ${a} (${e}) or ${n} (${t})`,type:"language-pack-not-installed"}:"downloading"===l?{html:jQuery(`<span style="color: #ff4646; display: inline-block;">\n                <h4>Language Pack Download In Progress:</h4>\n                <ol>\n                    <li>\n                        The language pack for <strong>${a} (${e})</strong> or <strong>${n} (${t})</strong> is already being downloaded.\n                    </li>\n                    <li>\n                        <strong>You do not need to start the download again.</strong> Please wait for the download to complete. Once finished, the translation feature will become available automatically.\n                    </li>\n                    <li>\n                        You can check the download progress by opening:\n                        <strong>\n                            <span data-clipboard-text="chrome://on-device-translation-internals" target="_blank" class="chrome-ai-translator-flags">\n                                chrome://on-device-translation-internals ${pe.svgIcons("copy")}\n                            </span>\n                        </strong>\n                        . Click on the URL to copy it, then open a new window and paste this URL in Chrome to view the status.\n                    </li>\n                    <li>\n                        <strong>What to do next:</strong>\n                        <ul style="margin-top: .5em;">\n                            <li>Wait for the download to finish. The status will change to <strong>Ready</strong> or <strong>Installed</strong> in the <strong>Language Packs</strong> section.</li>\n                            <li>After the language pack is installed, you may need to <strong>reload</strong> or <strong>restart</strong> your browser for the changes to take effect.</li>\n                        </ul>\n                    </li>\n                    <li>\n                        For more help, refer to the <a href="https://developer.chrome.com/docs/ai/translator-api#supported-languages" target="_blank">documentation to check supported languages</a>.\n                    </li>\n                </ol>\n                <div style="text-align: right;">\n                    <button onclick="location.reload()" class="lmat-bulk-translate-error-reload-btn">Reload Page</button>\n                </div>\n            </span>`),message:"Language pack downloading please wait or try again...",type:"language-pack-downloading"}:"readily"===l||"available"===l||{html:jQuery(`<span style="color: #ff4646; display: inline-block;">\n                <h4>Language Pack Installation Required</h4>\n                <ol>\n                    <li>Please ensure that the language pack for <strong>${a} (${e})</strong> or <strong>${n} (${t})</strong> is installed and set as a preferred language in your browser.</li>\n                    <li>To install the language pack, visit <strong><span data-clipboard-text="chrome://on-device-translation-internals" target="_blank" class="chrome-ai-translator-flags">chrome://on-device-translation-internals ${pe.svgIcons("copy")}</span></strong>. Click on the URL to copy it, then open a new window and paste this URL to access the settings.</li>\n                    <li>If you encounter any issues, please refer to the <a href="https://developer.chrome.com/docs/ai/translator-api#supported-languages" target="_blank">documentation to check supported languages</a> for further assistance.</li>\n                </ol>\n            </span>`),message:`Language pack missing for ${a} (${e}) or ${n} (${t})`,type:"language-pack-missing"}};static languagePairAvality=async(t,e)=>{try{await self.Translator.create({sourceLanguage:t,targetLanguage:e,monitor(t){t.addEventListener("downloadprogress",t=>{console.log(`Downloaded ${100*t.loaded}%`)})}})}catch(t){console.log("err",t)}if("translation"in self&&"createTranslator"in self.translation)return await self.translation.canTranslate({sourceLanguage:t,targetLanguage:e});if("ai"in self&&"translator"in self.ai){const a=await self.ai.translator.capabilities();return await a.languagePairAvailable(t,e)}return"Translator"in self&&"create"in self.Translator&&await self.Translator.availability({sourceLanguage:t,targetLanguage:e})};AITranslator=async t=>"translation"in self&&"createTranslator"in self.translation?await self.translation.createTranslator({sourceLanguage:this.sourceLanguage,targetLanguage:t}):"ai"in self&&"translator"in self.ai?await self.ai.translator.create({sourceLanguage:this.sourceLanguage,targetLanguage:t}):"Translator"in self&&"create"in self.Translator&&await self.Translator.create({sourceLanguage:this.sourceLanguage,targetLanguage:t});init=async t=>{this.textContent=t,this.textContentKeys=Object.keys(this.textContent),this.translationStart=!1,this.completedTranslateIndex=0,this.completedCharacterCount=0};startTranslationProcess=async()=>{this.onStartTranslationProcess();const t=this.defaultLang;this.translationStart=!0,this.translator=await this.AITranslator(t),this.textContentKeys.length>0&&this.textContentKeys.length>this.completedTranslateIndex&&await this.stringTranslation(this.completedTranslateIndex)};stringTranslation=async t=>{if(!this.translateStatus)return;let e=document.createElement("div");e.innerHTML=this.textContent[this.textContentKeys[t]],this.onBeforeTranslate(e);const a=e.innerText;let n=[];e.childNodes.length>0&&!e.querySelector(".notranslate")?e.childNodes.forEach(t=>{3!==t.nodeType||""===t.nodeValue.trim()||/^\d+$/.test(t.nodeValue.trim())?t.childNodes.length:n.push(t)}):e.querySelector(".notranslate")&&e.childNodes.forEach(t=>{3!==t.nodeType||""===t.nodeValue.trim()||/^\d+$/.test(t.nodeValue.trim())||n.push(t)}),n.length>0&&await this.stringTranslationBatch(n,0),this.completedTranslateIndex=t,this.completedCharacterCount+=a.length,this.textContent[this.textContentKeys[t]]=e.innerText,this.onAfterTranslate(this.textContentKeys[t],this.textContent[this.textContentKeys[t]]),e.remove(),e=null,this.textContentKeys.length>this.completedTranslateIndex+1&&await this.stringTranslation(this.completedTranslateIndex+1),t===this.textContentKeys.length-1&&this.onComplete({characterCount:this.completedCharacterCount})};translateChildNodes=async(t,e)=>{(t.childNodes.length>0&&!t.querySelector(".notranslate")||t.querySelector(".notranslate"))&&t.childNodes.forEach(t=>{3!==t.nodeType||""===t.nodeValue.trim()||/^\d+$/.test(t.nodeValue.trim())?t.childNodes.length>0&&this.translateChildNodes(t,e):e.push(t)})};stringTranslationBatch=async(t,e)=>{const a=await this.translator.translate(t[e].nodeValue);return a&&""!==a&&(t[e].nodeValue=a),e<t.length-1&&await this.stringTranslationBatch(t,e+1),!0};stopTranslation=()=>{this.translateStatus=!1};reInit=()=>{this.translateBtnEvents()};startTranslation=async()=>{this.translateStatus=!0,await this.startTranslationProcess()};static svgIcons=t=>({copy:'<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" height="16px" width="16px" xmlns="http://www.w3.org/2000/svg" fill="#2271b1"><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg>'}[t]||"")}const de=pe,ge=(t,e,a,n,r,s,o)=>{(({postId:t,key:e,lang:a,storeDispatch:n})=>{const r=Bt.getState().translatedContent[t]?.[e]?.source;if(r){const e="string"==typeof r?r.split(/(?<=[.!?]+)\s+/).length:0,s="string"==typeof r?r.trim().split(/\s+/).filter(t=>/[^\p{L}\p{N}]/.test(t)).length:0,o="string"==typeof r?r.length:0,l=Bt.getState().translatePostInfo[t+"_"+a],i=l?.stringsTranslated||0,c=l?.charactersTranslated||0,u=l?.wordsTranslated||0;n(Ct({[t+"_"+a]:{stringsTranslated:i+e,charactersTranslated:c+o,wordsTranslated:u+s}})),n($t({stringsTranslated:Bt.getState().countInfo.stringsTranslated+e,charactersTranslated:Bt.getState().countInfo.charactersTranslated+o}))}})({postId:t,key:e,lang:s,storeDispatch:o}),o(Pt({postId:t,uniqueKey:e,key:a,provider:r,value:n}))},me=class{constructor({sourceLang:t="en",targetLangs:e=!1,updateContent:a,totalPosts:n,storeDispatch:r,postId:s,prefix:o,updateDestoryHandler:l}){this.textContentObject=Xt(Bt.getState(),s),this.totalTranslatedLength=Object.keys(this.textContentObject).length,this.sourceLang=t,this.targetLangs=e,this.localAiTranslator=null,this.textContentObjectKeys=Object.keys(this.textContentObject),this.glossaryTerms=Yt(Bt.getState(),t),this.activeLanguageGlossaryTerms={},this.translateKeysLength=this.textContentObjectKeys.length,this.updateContent=a,this.totalPosts=n,this.storeDispatch=r,this.completedPostStatus=0,this.postId=s,this.activeTargetLangs="",this.prefix=o,this.serviceProvider=Bt.getState().serviceProvider,l(()=>{this.destroy()}),this.stopTranslation=!1}destroy=()=>{this.stopTranslation=!0,this.localAiTranslator&&this.localAiTranslator.hasOwnProperty("stopTranslation")&&this.localAiTranslator.stopTranslation()};async createLocalAiTranslator(t,e){if(this.completedTranslateIndex=0,this.localAiTranslator=null,this.activeLanguageGlossaryTerms={},this.stopTranslation)return;const a=lmatBulkTranslationGlobal.languageObject;this.completedPostStatus=Wt(Bt.getState()),this.activeTargetLangs=t,this.localAiTranslator=await de.Object({sourceLanguage:this.sourceLang,targetLanguage:t,sourceLanguageLabel:a[this.sourceLang].name,targetLanguageLabel:a[t].name,onAfterTranslate:this.onAfterTranslate,onBeforeTranslate:this.onBeforeTranslate,onComplete:this.onComplete,onLanguageError:this.onLanguageError}),this.localAiTranslator.hasOwnProperty("init")&&(this.activeLanguageGlossaryTerms[t]={},this.glossaryTerms&&Object.values(this.glossaryTerms).length>0&&Object.values(this.glossaryTerms).forEach(e=>{e.translations&&e.translations[t]&&(this.activeLanguageGlossaryTerms[t][e.original_term]=e.translations[t])}),this.storeDispatch(Ct({[this.postId+"_"+t]:{status:"running",messageClass:""}})),await this.translateContent(0),this.stopTranslation||this.updateContent(t)),e<this.targetLangs.length-1&&!this.stopTranslation&&await this.createLocalAiTranslator(this.targetLangs[e+1],e+1)}onLanguageError=t=>{let e=!1;t.html&&(e=t.html[0]?.outerHTML),this.storeDispatch(xt(this.postId+"_"+this.activeTargetLangs)),this.storeDispatch(Lt(100/this.totalPosts)),this.storeDispatch(Ct({[this.postId+"_"+this.activeTargetLangs]:{status:"error",messageClass:"error",errorMessage:t.message,errorHtml:e}}))};onBeforeTranslate=t=>{t&&this.activeLanguageGlossaryTerms&&this.activeLanguageGlossaryTerms[this.activeTargetLangs]&&Object.keys(this.activeLanguageGlossaryTerms[this.activeTargetLangs]).length>0&&t.querySelectorAll("span[data-glossary-term]").forEach(t=>{const e=t.dataset?.glossaryTerm,a=this.activeLanguageGlossaryTerms[this.activeTargetLangs]?.[e];a&&""!==a&&(t.innerHTML=t.innerText.replace(e,a))})};onAfterTranslate=(t,e)=>{if(this.stopTranslation)return;ge(this.postId,t,this.activeTargetLangs,e,this.serviceProvider,this.activeTargetLangs,this.storeDispatch),this.completedTranslateIndex++;let a=this.completedTranslateIndex/this.totalTranslatedLength*100;a=a.toFixed(2),a=Math.min(a,100);let n=a;n=Math.round(n),n=Math.min(n,100);const r=document.querySelector(`.${this.prefix}-progress-bar-circular[data-id="${this.postId}_${this.activeTargetLangs}"]`);r&&(r.querySelector(`.${this.prefix}-percentage`).innerHTML=n+"%",r.querySelector(`.${this.prefix}-progress`).style.strokeDasharray=n+", 100");let s=this.completedPostStatus+a/this.totalPosts;const o=document.querySelector(`.${this.prefix}-overall-progress .${this.prefix}-progress`);o&&(s=s.toFixed(2),s=Math.min(s,100),o.style.width=s+"%",o.innerHTML=s+"%")};onComplete=()=>{if(!this.stopTranslation&&this.completedTranslateIndex===this.totalTranslatedLength){const t=new Date-this.startTime,e=qt(Bt.getState(),(this.postId,this.activeTargetLangs)).duration||0;this.storeDispatch(Ct({[this.postId+"_"+this.activeTargetLangs]:{duration:e+t}})),this.storeDispatch(Lt(100/this.totalPosts))}};async translateContent(t){const e=JSON.parse(JSON.stringify(this.textContentObject));Object.keys(e).length>0&&!this.stopTranslation&&(this.startTime=new Date,await this.localAiTranslator.init(e),await this.localAiTranslator.startTranslation())}async initTranslation(){this.textContentObject&&Object.keys(this.textContentObject).length>0&&this.targetLangs&&this.targetLangs.length>0&&!this.stopTranslation?await this.createLocalAiTranslator(this.targetLangs[0],0):this.targetLangs&&this.targetLangs.length>0&&!this.stopTranslation&&this.targetLangs.forEach(t=>{this.storeDispatch(xt(this.postId+"_"+t)),this.storeDispatch(Lt(100/this.totalPosts)),this.storeDispatch(Ct({[this.postId+"_"+t]:{status:"error",messageClass:"error",errorMessage:(0,r.__)("No content to translate","linguator-multilingual-ai-translation"),errorHtml:!1}}))})}},he=t=>{const{element:e,scrollSpeed:a,prefix:n,completedPostStatus:r,totalPosts:s,postId:o,lang:l}=t;if(e.scrollHeight-e.offsetHeight<=0)return;let i=null,c=e.scrollTop;const u=()=>{const t=e.scrollHeight-e.offsetHeight+100,p=performance.now();i||(i=p);const d=c+(p-i)/a*(t+2e3-c);var g=e.scrollTop/(e.scrollHeight-e.clientHeight)*100;let m=(Math.round(10*g)/10).toFixed(2);m=Math.min(m,100).toString(),ye(n,o,l,m,r,s),d>t||((d||0===d)&&(e.scrollTop=d),d<t&&requestAnimationFrame(u))};requestAnimationFrame(u)},fe=({provider:t,startTime:e,endTime:a,prefix:n,postId:r,lang:s,storeDispatch:o,glossaryTerms:l})=>{document.querySelector(`#${n}-${t}-table-container[data-render-id="${r}"]`)&&(({provider:t,startTime:e,endTime:a,prefix:n,postId:r,lang:s,storeDispatch:o,glossaryTerms:l})=>{const i=document.querySelector(`#${n}-${t}-table-container[data-render-id="${r}"]`);i&&i.querySelectorAll(`.${n}-${t}-table-cell`).forEach((e,a)=>{l&&l[[s]]&&e.querySelectorAll("span[data-glossary-term]").forEach(t=>{const e=t.dataset?.glossaryTerm,a=l[s]?.[e];a&&""!==a&&(t.innerHTML=t.innerText.replace(e,a))});const n=e.innerText,i=e.dataset.key;ge(r,i,s,n,t,s,o)})})({provider:t,startTime:e,endTime:a,prefix:n,postId:r,lang:s,storeDispatch:o,glossaryTerms:l})},ye=(t,e,a,n,r,s)=>{const o=document.querySelector(`.${t}-progress-bar-circular[data-id="${e}_${a}"]`);let l=n;l=Math.round(l),l=Math.min(l,100),o&&(o.querySelector(`.${t}-percentage`).innerHTML=l+"%",o.querySelector(`.${t}-progress`).style.strokeDasharray=l+", 100");let i=r+n/s;const c=document.querySelector(`.${t}-overall-progress .${t}-progress`);c&&(i=i.toFixed(2),i=Math.min(i,100),c.style.width=i+"%",c.innerHTML=i+"%")},_e=class{constructor({sourceLang:t="en",targetLangs:e=!1,updateContent:a,totalPosts:n,storeDispatch:r,postId:s,prefix:o,updateDestoryHandler:l}){this.sourceLang=t,this.targetLangs=e,this.updateContent=a,this.totalPosts=n,this.storeDispatch=r,this.postId=s,this.prefix=o,this.updateDestoryHandler=l,this.stopTranslation=!1,this.textContentObject=Xt(Bt.getState(),s),this.glossaryTerms=Yt(Bt.getState(),t),this.activeLanguageGlossaryTerms={},this.appendStringTable(),l(()=>{this.destroy()})}destroy=()=>{this.stopTranslation=!0};createGoogleTranslator=async(t,e)=>{if(this.completedTranslateIndex=0,this.googleTranslator=null,this.activeLanguageGlossaryTerms={},this.stopTranslation)return;const a=lmatBulkTranslationGlobal.languageObject;if(this.completedPostStatus=Wt(Bt.getState()),["ab","ace","ach","aa","af","sq","alz","am","ar","hy","as","av","awa","ay","az","ban","bal","bm","bci","ba","eu","btx","bts","bbc","be","bem","bn","bew","bho","bik","bs","br","bg","bua","yue","ca","ceb","ch","ce","ny","zh-CN","zh-TW","chk","cv","co","crh","crh-Latn","hr","cs","da","fa-AF","dv","din","doi","dov","nl","dyu","dz","en","eo","et","ee","fo","fj","tl","fi","fon","fr","fr-CA","fy","fur","ff","gaa","gl","ka","de","el","gn","gu","ht","cnh","ha","haw","iw","hil","hi","hmn","hu","hrx","iba","is","ig","ilo","id","iu-Latn","iu","ga","it","jam","ja","jw","kac","kl","kn","kr","pam","kk","kha","km","cgg","kg","rw","ktu","trp","kv","gom","ko","kri","ku","ckb","ky","lo","ltg","la","lv","lij","li","ln","lt","lmo","lg","luo","lb","mk","mad","mai","mak","mg","ms","ms-Arab","ml","mt","mam","gv","mi","mr","mh","mwr","mfe","chm","mni-Mtei","min","lus","mn","my","nhe","ndc-ZW","nr","new","ne","bm-Nkoo","no","nus","oc","or","om","os","pag","pap","ps","fa","pl","pt","pt-PT","pa","pa-Arab","qu","kek","rom","ro","rn","ru","se","sm","sg","sa","sat-Latn","sat","gd","nso","sr","st","crs","shn","sn","scn","szl","sd","si","sk","sl","so","es","su","sus","sw","ss","sv","ty","tg","ber-Latn","ber","ta","tt","te","tet","th","bo","ti","tiv","tpi","to","lua","ts","tn","tcy","tum","tr","tk","tyv","ak","udm","uk","ur","ug","uz","ve","vec","vi","war","cy","wo","xh","sah","yi","yo","yua","zap","zu"].includes(this.filterLanguage(t))){this.activeTargetLang=t,this.activeLanguageGlossaryTerms[t]={},this.glossaryTerms&&Object.values(this.glossaryTerms).length>0&&Object.values(this.glossaryTerms).forEach(e=>{e.translations&&e.translations[t]&&(this.activeLanguageGlossaryTerms[t][e.original_term]=e.translations[t])}),this.storeDispatch(Ct({[this.postId+"_"+t]:{status:"running",messageClass:""}})),this.startTime=new Date;const e=await this.translateContent();this.stopTranslation||(this.storeDispatch(Lt(100/this.totalPosts)),e&&(this.updateContent(t),await new Promise(t=>setTimeout(t,500))))}else this.storeDispatch(xt(this.postId+"_"+t)),this.storeDispatch(Lt(100/this.totalPosts)),this.storeDispatch(Ct({[this.postId+"_"+t]:{status:"error",messageClass:"error",errorMessage:(0,r.sprintf)((0,r.__)("Language %s(%s) is not supported by Google Translate","linguator-multilingual-ai-translation"),a[t].name,t),errorHtml:!1}}));this.startTime=null,e<this.targetLangs.length-1&&!this.stopTranslation&&await this.createGoogleTranslator(this.targetLangs[e+1],e+1)};appendTranslateWidget=async()=>{this.googleTranslator=new google.translate.TranslateElement({pageLanguage:this.sourceLang,autoDisplay:!1},`${this.prefix}-google-translate-btn`);const t=document.querySelector(`#${this.prefix}-google-translate-btn`);t&&t.children.length<=0&&Object.values(google?.translate?.TranslateElement()).map(e=>{e instanceof HTMLElement&&e.id===`${this.prefix}-google-translate-btn`&&t.replaceWith(e)})};appendStringTable=()=>{const t=jQuery(`#${this.prefix}-google-table-container`),e=jQuery(`#${this.prefix}-container`);if(t&&t.length>0){t.find(`#${this.prefix}-google-translate-strings-container`).remove(),t.attr("data-render-id",this.postId);const e=`<div id="${this.prefix}-google-translate-strings-container">\n            ${Object.keys(this.textContentObject).map(t=>`<div class="${this.prefix}-google-table-row"><div class="${this.prefix}-google-table-cell" data-key="${t}">${this.textContentObject[t]}</div></div>`).join("")}</div>`;t.append(e)}else{const t=`<div id="${this.prefix}-google-table-container" class="translate" data-render-id="${this.postId}"><div id="${this.prefix}-google-translate-btn">Translate</div><div id="${this.prefix}-google-translate-strings-container">${Object.keys(this.textContentObject).map(t=>`<div class="${this.prefix}-google-table-row"><div class="${this.prefix}-google-table-cell" data-key="${t}" lang="${this.sourceLang}">${this.textContentObject[t]}</div></div>`).join("")}</div></div>`;e.append(t)}document.documentElement.setAttribute("translate","no"),document.body.classList.add("notranslate")};translateContent=async()=>{const t=document.querySelector(`#${this.prefix}-google-translate-btn .goog-te-combo`);if(await new Promise(t=>setTimeout(t,1e3)),!t)return!1;const e=this.filterLanguage(this.activeTargetLang);if(!t.querySelector(`option[value="${e}"]`)){const t=lmatBulkTranslationGlobal.languageObject;return this.storeDispatch(Ct({[`${this.postId}_${this.activeTargetLang}`]:{status:"error",messageClass:"error",errorMessage:(0,r.sprintf)((0,r.__)("Language %s(%s) is not supported by Google Translate","linguator-multilingual-ai-translation"),t[this.activeTargetLang]?.name,this.activeTargetLang),errorHtml:!1}})),!1}if(document.body.classList.add(`${this.prefix}-google-translate`),t.value=e,t.dispatchEvent(new Event("change")),this.stopTranslation)return!1;const a=document.querySelector(`#${this.prefix}-google-translate-strings-container`);if(!a)return!1;let n=!1,s=!1;return await new Promise((t,e)=>{const r=new MutationObserver(async(a,o)=>{for(const o of a)if("childList"===o.type){const a=Array.from(o.addedNodes);for(const o of a)if(1===o.nodeType&&"FONT"===o.tagName){if(!o.getAttribute("style"))continue;s=!0,r.disconnect();try{n=await this.startTranslate(),t()}catch(t){console.error("Translation error:",t),e(t)}return}}});setTimeout(async()=>{r.disconnect(),s||(n=await this.startTranslate(),t())},6e3),r.observe(a,{childList:!0,subtree:!0})}),n};startTranslate=async()=>{await(async({provider:t,prefix:e,postId:a,lang:n,storeDispatch:r,totalPosts:s,completedPostStatus:o,glossaryTerms:l})=>{const i=(new Date).getTime();let c=!1;const u=document.querySelector(`#${e}-${t}-table-container[data-render-id="${a}"]`);let p=!1;u&&(u.scrollTop=0,p=u.scrollHeight),await new Promise(d=>{if(u)if("number"==typeof p&&p>100){const g=()=>{if("visible"===document.visibilityState){const t=1e3*Math.ceil(p/(u.offsetHeight||1));he({element:u,scrollSpeed:t,prefix:e,totalPosts:s,completedPostStatus:o,postId:a,lang:n})}};document.addEventListener("visibilitychange",g),setTimeout(()=>{const r=1e3*Math.ceil(p/(u.offsetHeight||1));he({element:u,scrollSpeed:r,provider:t,prefix:e,totalPosts:s,completedPostStatus:o,postId:a,lang:n})},500);const m=()=>{if(u.scrollTop+u.clientHeight+50>=u.scrollHeight&&!c){c=!0,u.removeEventListener("scroll",m);const p=(new Date).getTime();ye(e,a,n,100,o,s),document.removeEventListener("visibilitychange",g),setTimeout(()=>{fe({provider:t,startTime:i,endTime:p,prefix:e,postId:a,lang:n,storeDispatch:r,glossaryTerms:l}),d("Complete")},1e3)}};u.addEventListener("scroll",m),(u.clientHeight||0)+10>=p&&(ye(e,a,n,100,o,s),setTimeout(()=>{const s=(new Date).getTime();document.removeEventListener("visibilitychange",g),fe({provider:t,startTime:i,endTime:s,prefix:e,postId:a,lang:n,storeDispatch:r,glossaryTerms:l}),d("Complete")},1e3))}else ye(e,a,n,100,o,s),setTimeout(()=>{const s=(new Date).getTime();fe({provider:t,startTime:i,endTime:s,prefix:e,postId:a,lang:n,storeDispatch:r,glossaryTerms:l}),d("Complete")},1e3);else d("No container")})})({provider:"google",prefix:this.prefix,postId:this.postId,lang:this.activeTargetLang,storeDispatch:this.storeDispatch,totalPosts:this.totalPosts,completedPostStatus:this.completedPostStatus,glossaryTerms:this.activeLanguageGlossaryTerms});const t=new Date-this.startTime,e=qt(Bt.getState(),(this.postId,this.activeTargetLang)).duration||0;return this.storeDispatch(Ct({[this.postId+"_"+this.activeTargetLang]:{duration:e+t}})),!0};filterLanguage=t=>"zh"===t?lmatBulkTranslationGlobal.languageObject.zh?.locale.replace("_","-"):t;async initTranslation(){this.textContentObject&&Object.keys(this.textContentObject).length>0&&this.targetLangs&&this.targetLangs.length>0&&!this.stopTranslation?(this.appendTranslateWidget(),await this.createGoogleTranslator(this.targetLangs[0],0)):this.targetLangs&&this.targetLangs.length>0&&!this.stopTranslation&&this.targetLangs.forEach(t=>{this.storeDispatch(xt(this.postId+"_"+t)),this.storeDispatch(Lt(100/this.totalPosts)),this.storeDispatch(Ct({[this.postId+"_"+t]:{status:"error",messageClass:"error",errorMessage:(0,r.__)("No content to translate","linguator-multilingual-ai-translation"),errorHtml:!1}}))})}},be=({className:t})=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",className:t},React.createElement("defs",null,React.createElement("linearGradient",{id:"chrome-a",x1:"3.2173",y1:"15",x2:"44.7812",y2:"15",gradientUnits:"userSpaceOnUse"},React.createElement("stop",{offset:"0",stopColor:"#d93025"}),React.createElement("stop",{offset:"1",stopColor:"#ea4335"})),React.createElement("linearGradient",{id:"chrome-b",x1:"20.7219",y1:"47.6791",x2:"41.5039",y2:"11.6837",gradientUnits:"userSpaceOnUse"},React.createElement("stop",{offset:"0",stopColor:"#fcc934"}),React.createElement("stop",{offset:"1",stopColor:"#fbbc04"})),React.createElement("linearGradient",{id:"chrome-c",x1:"26.5981",y1:"46.5015",x2:"5.8161",y2:"10.506",gradientUnits:"userSpaceOnUse"},React.createElement("stop",{offset:"0",stopColor:"#1e8e3e"}),React.createElement("stop",{offset:"1",stopColor:"#34a853"}))),React.createElement("circle",{cx:"24",cy:"23.9947",r:"12",fill:"#fff"}),React.createElement("path",{d:"M3.2154,36A24,24,0,1,0,12,3.2154,24,24,0,0,0,3.2154,36ZM34.3923,18A12,12,0,1,1,18,13.6077,12,12,0,0,1,34.3923,18Z",fill:"none"}),React.createElement("path",{d:"M24,12H44.7812a23.9939,23.9939,0,0,0-41.5639.0029L13.6079,30l.0093-.0024A11.9852,11.9852,0,0,1,24,12Z",fill:"url(#chrome-a)"}),React.createElement("circle",{cx:"24",cy:"24",r:"9.5",fill:"#1a73e8"}),React.createElement("path",{d:"M34.3913,30.0029,24.0007,48A23.994,23.994,0,0,0,44.78,12.0031H23.9989l-.0025.0093A11.985,11.985,0,0,1,34.3913,30.0029Z",fill:"url(#chrome-b)"}),React.createElement("path",{d:"M13.6086,30.0031,3.218,12.006A23.994,23.994,0,0,0,24.0025,48L34.3931,30.0029l-.0067-.0068a11.9852,11.9852,0,0,1-20.7778.007Z",fill:"url(#chrome-c)"})),Te=({className:t})=>React.createElement("svg",{className:t,viewBox:"-3 0 262 262",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},React.createElement("path",{d:"M255.878 133.451c0-10.734-.871-18.567-2.756-26.69H130.55v48.448h71.947c-1.45 12.04-9.283 30.172-26.69 42.356l-.244 1.622 38.755 30.023 2.685.268c24.659-22.774 38.875-56.282 38.875-96.027",fill:"#4285F4"}),React.createElement("path",{d:"M130.55 261.1c35.248 0 64.839-11.605 86.453-31.622l-41.196-31.913c-11.024 7.688-25.82 13.055-45.257 13.055-34.523 0-63.824-22.773-74.269-54.25l-1.531.13-40.298 31.187-.527 1.465C35.393 231.798 79.49 261.1 130.55 261.1",fill:"#34A853"}),React.createElement("path",{d:"M56.281 156.37c-2.756-8.123-4.351-16.827-4.351-25.82 0-8.994 1.595-17.697 4.206-25.82l-.073-1.73L15.26 71.312l-1.335.635C5.077 89.644 0 109.517 0 130.55s5.077 40.905 13.925 58.602l42.356-32.782",fill:"#FBBC05"}),React.createElement("path",{d:"M130.55 50.479c24.514 0 41.05 10.589 50.479 19.438l36.844-35.974C195.245 12.91 165.798 0 130.55 0 79.49 0 35.393 29.301 13.925 71.947l42.211 32.783c10.59-31.477 39.891-54.251 74.414-54.251",fill:"#EB4335"})),ve=t=>{t=t||{};const{Service:e=!1,openErrorModalHandler:a=()=>{},prefix:n=""}=t,s=(window.lmatBulkTranslationGlobal.admin_url,window.lmatBulkTranslationGlobal.lmat_url+"admin/assets/images/error-icon.svg"),o=window.lmatBulkTranslationGlobal.providers,l={google:{Provider:_e,title:"Google Translate",SettingBtnText:"Translate",serviceLabel:"Google Translate",Docs:"https://docs.coolplugins.net/doc/google-translate-for-polylang/?utm_source=twlmat_plugin&utm_medium=inside&utm_campaign=docs&utm_content=bulk_translate_google",heading:(0,r.__)("Choose Language","linguator-multilingual-ai-translation"),BetaEnabled:!1,ButtonDisabled:t.googleButtonDisabled,ErrorMessage:t.googleButtonDisabled?React.createElement("div",{className:`${n}-provider-error button button-primary`,onClick:()=>a(t.googleButtonDisabled)},React.createElement("img",{src:s,alt:"error"})," ",(0,r.__)("View Error.","linguator-multilingual-ai-translation")):React.createElement(React.Fragment,null),Logo:React.createElement(Te,{className:"icon-size"}),filterHtmlContent:!0},localAiTranslator:{Provider:me,title:"Chrome Built-in AI",SettingBtnText:"Translate",serviceLabel:"Chrome AI Translator",heading:(0,r.sprintf)((0,r.__)("Translate Using %s","linguator-multilingual-ai-translation"),"Chrome built-in API"),Docs:"https://docs.coolplugins.net/doc/chrome-ai-translation-polylang/?utm_source=twlmat_plugin&utm_medium=inside&utm_campaign=docs&utm_content=bulk_translate_chrome",BetaEnabled:!0,ButtonDisabled:t.localAiTranslatorButtonDisabled,ErrorMessage:t.localAiTranslatorButtonDisabled?React.createElement("div",{className:`${n}-provider-error button button-primary`,onClick:()=>a(t.localAiTranslatorButtonDisabled)},React.createElement("img",{src:s,alt:"error"})," ",(0,r.__)("View Error","linguator-multilingual-ai-translation")):React.createElement(React.Fragment,null),Logo:React.createElement(be,{className:"icon-size"}),filterHtmlContent:!0}},i={};return o.forEach(t=>{i[t]=l[t]}),e?i[e]:i},we=async({callback:t,loop:e,index:a})=>{await t(e[a],a),++a<e.length&&await we({callback:t,loop:e,index:a})},Ee=we,ke=async({source:t,postId:e,sourceLang:a,lang:n,editorType:s,createTranslatePostNonce:o,storeDispatch:l})=>{const i=Bt.getState().serviceProvider,c=JSON.parse(JSON.stringify(t)),u=await(async({source:t,postId:e,lang:a,editorType:n})=>{const r={classic:"string"==typeof t.content&&t.content.includes("[lmat_val")?ue:oe,elementor:le,block:ie,taxonomy:ce},s=Ut(Bt.getState()),o=Jt(Bt.getState(),e);return await r[n]({source:t,lang:a,translatedContent:o,serviceProvider:s,postId:e})})({source:c,postId:e,lang:n,editorType:s,service:i}),p=lmatBulkTranslationGlobal.bulkTranslateRouteUrl,d=lmatBulkTranslationGlobal.nonce;l(Ct({[e+"_"+n]:{status:"in-progress",messageClass:"in-progress"}}));let g="create-translate-post",m={target_language:n,editor_type:s,privateKey:o,source_language:a};"taxonomy"===s?(g="create-translate-taxonomy",m.term_id=e,m.taxonomy_name=u.title||"",m.taxonomy_description=u.content||"",m.taxonomy=lmatBulkTranslationGlobal.taxonomy_page,u.post_name&&""!==u.post_name.trim()&&(m.taxonomy_slug=u.post_name)):(m.post_id=e,m.post_title=u.title||"",m.post_name=u.post_name||"",m.post_content=u.content?JSON.stringify(u.content):"",m.post_meta_fields=u.metaFields?JSON.stringify(u.metaFields):"",m.post_excerpt=u.excerpt||""),await fetch(p+`/${e}:${g}`,{method:"POST",body:new URLSearchParams(m),headers:{"X-WP-Nonce":d,"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8",Accept:"application/json"}}).then(async t=>{const o=await t.json();let c={};if(o.success&&o.data.post_id){const t={};"taxonomy"===s&&(t.taxonomy=lmatBulkTranslationGlobal.taxonomy_page),(({provider:t,sourceLang:e,targetLang:a,parentPostId:n,currentPostId:r,editorType:s,updateTranslateDataNonce:o,extraData:l={}})=>{if(!(o&&r&&n&&t&&e&&a&&s))return;const i=Bt.getState().parentPostsInfo[n],c=Bt.getState().translatePostInfo[n+"_"+a],u=c.stringsTranslated||0,p=c.wordsTranslated||0,d=c.charactersTranslated||0,g=(c.duration||0)/1e3,m=i.wordsCount||0,h=i.charactersCount||0,f=i.stringsCount||0,y={provider:t,totalStringCount:u,totalWordCount:p,totalCharacterCount:d,editorType:s,date:(new Date).toISOString(),sourceStringCount:f,sourceWordCount:m,sourceCharacterCount:h,sourceLang:e,targetLang:a,timeTaken:g,action:lmatBulkTranslationGlobal.update_translate_data,update_translation_key:o,post_id:r,ajax_url:lmatBulkTranslationGlobal.ajax_url,extraData:JSON.stringify(l)};fetch(lmatBulkTranslationGlobal.ajax_url,{method:"POST",headers:{"content-type":"application/x-www-form-urlencoded; charset=UTF-8",Accept:"application/json"},body:new URLSearchParams(y)}).then().catch(t=>{console.error(t)})})({provider:i,sourceLang:a,targetLang:n,currentPostId:o.data.post_id,parentPostId:e,editorType:s,updateTranslateDataNonce:o?.data?.update_translate_data_nonce,extraData:t}),o.data.post_title=""===o.data.post_title?(0,r.__)("N/A","linguator-multilingual-ai-translation"):o.data.post_title,c={targetPostId:o.data.post_id,targetPostTitle:o.data.post_title,targetLanguage:n,postLink:o.data.post_link,postEditLink:o.data.post_edit_link,status:"completed",messageClass:"success"},l($t({postsTranslated:Bt.getState().countInfo.postsTranslated+1}))}else if(o.data&&o.data.error){let t="Error Code:"+o.data.status;"string"==typeof o.data.error&&(t+="<br>Error Message:"+o.data.error+"("+o.data.error+")"),"object"==typeof o.data.error&&(t+="<br>Error Message:"+JSON.stringify(o.data.error)),c={status:"error",messageClass:"error",errorMessage:(0,r.__)("Post not created. Please try again.","linguator-multilingual-ai-translation"),errorHtml:'<div class="lmat-error-html">'+t+"</div>"}}else o.code&&o.message?c={status:"error",messageClass:"error",errorMessage:(0,r.__)("Post not created. Please try again.","linguator-multilingual-ai-translation"),errorHtml:'<div class="lmat-error-html">'+o.message+"</div>"}:!o.success||o.data?c={status:"error",messageClass:"error",errorMessage:(0,r.__)("Post not created. Please try again.","linguator-multilingual-ai-translation"),errorHtml:'<div class="lmat-error-html">'+o.data+"</div>"}:o.data.post_id?"string"==typeof o&&(c={status:"error",messageClass:"error",errorMessage:(0,r.__)("Post not created. Please try again.","linguator-multilingual-ai-translation"),errorHtml:'<div class="lmat-error-html">'+o+"</div>"}):c={status:"error",messageClass:"error",errorMessage:(0,r.__)("Post not created. Please try again.","linguator-multilingual-ai-translation"),errorHtml:'<div class="lmat-error-html">'+o.data+"</div>"};l(xt(e+"_"+n)),l(kt([e+"_"+n])),l(Ct({[e+"_"+n]:c}))}).catch(t=>{console.log(t),l(xt(e+"_"+n)),l(kt([e+"_"+n]));let a=t;t.message&&(a=t.message),t.data&&t.data.status&&(a="Error Code:"+t.data.status,"string"==typeof t.data.error&&(a+="<br>Error Message:"+t.data.error),"object"==typeof t.data.error&&(a+="<br>Error Message:"+JSON.stringify(t.data.error))),l(Ct({[e+"_"+n]:{status:"error",messageClass:"error",errorMessage:(0,r.__)("Post not created. Please try again.","linguator-multilingual-ai-translation"),errorHtml:'<div class="lmat-error-html">'+a+"</div>"}}))})},Se=async({ids:t,langs:e,storeDispatch:a})=>{const n=lmatBulkTranslationGlobal.bulkTranslateRouteUrl,o=lmatBulkTranslationGlobal.bulkTranslatePrivateKey,i=lmatBulkTranslationGlobal.nonce;let c=!1;const u={ids:JSON.stringify(t),lang:JSON.stringify(e),privateKey:o};let p="lmat:bulk-translate-entries";lmatBulkTranslationGlobal.taxonomy_page&&""!==lmatBulkTranslationGlobal.taxonomy_page&&(u.taxonomy=lmatBulkTranslationGlobal.taxonomy_page,p="lmat:bulk-translate-taxonomy-entries");const d=await fetch(n+"/"+p,{method:"POST",body:new URLSearchParams(u),headers:{"X-WP-Nonce":i,"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8",Accept:"application/json"}}),g=await d.json();if(!g.success&&!g.code&&g.data&&g.data.message)return{success:!1,message:g.data.message};if(!g.success&&!g.message&&g.data.error)return{success:!1,message:JSON.stringify(g.data.error)};if(!g.success&&g.message&&g.data.trace&&g.data.message)return g.data&&g.data.trace&&delete g.data.trace,{success:!1,message:JSON.stringify(g.data)};if(!g.success&&g.message)return{success:!1,message:g.message};if(!g)return{success:!1,message:(0,r.__)("No posts to translate data undefined","linguator-multilingual-ai-translation")};if(!g.success)return{success:!1,message:g.message};if(!g.data)return{success:!1,message:(0,r.__)("No posts to translate untranslated data not found","linguator-multilingual-ai-translation")};if(!g.data.posts)return{success:!1,message:(0,r.__)("No posts to translate untranslated posts data not found","linguator-multilingual-ai-translation")};if(!g.data.CreateTranslatePostNonce)return{success:!1,message:(0,r.__)("No create translate post nonce","linguator-multilingual-ai-translation")};const m=g.data.posts,h=Object.keys(m);if(h.length>0){let t={};const e=new Array,n=Object.keys(Bt.getState().translatePostInfo);h.forEach(r=>{const s=m[r].languages,o=m[r].title;t[m[r].sourceLanguage]={languages:[...t[m[r].sourceLanguage]?.languages||[],...m[r].languages||[]]},s&&s.length>0&&s.forEach(t=>{if(n.includes(r+"_"+t))return;let s=!1;e.includes(r)||n.includes(r+"_"+t)||(e.push(r),s=!0);const l=lmatBulkTranslationGlobal.languageObject[t].flag,i=lmatBulkTranslationGlobal.languageObject[t].name;a(St([r+"_"+t])),a(Ct({[r+"_"+t]:{parentPostId:r,targetPostId:null,targetLanguage:t,postLink:null,status:"pending",parentPostTitle:o,firstPostLanguage:s,flagUrl:l,languageName:i,messageClass:"warning"}}))})});const o=async t=>{const e=Object.keys(t);e.length>0&&await Ee({callback:async e=>{const n=t[e];if(n&&"object"==typeof n&&!(Object.values(n).length<1))try{const t={action:"lmat_get_glossary",source_lang:e,target_lang:Object.values(n).join(","),_wpnonce:lmatBulkTranslationGlobal.get_glossary_validate},r=`${lmatBulkTranslationGlobal.ajax_url}`,s=await fetch(r,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8",Accept:"application/json"},credentials:"same-origin",body:new URLSearchParams(t)}),o=await s.json();o.success&&o.data.terms&&a(Ft({sourceLanguage:e,translations:Object.values(o.data.terms)}))}catch(t){console.log(t)}},loop:e,index:0})},i=async(t,e)=>{const n=h[t],o=Bt.getState().serviceProvider,{title:u,content:p,post_name:d,languages:f,editor_type:y,metaFields:_=null,sourceLanguage:b,excerpt:T=null}=m[n];if(!b){const s=u||"N/A";let o=!1,l=!1;m[n]?.post_link&&(l=m[n].post_link,o=l);const c={title:u,editorType:y,sourceLanguage:b,errorMessage:(0,r.sprintf)((0,r.__)("Set source language for this %s %s before translating.","linguator-multilingual-ai-translation"),o?'<a href="'+o+'" target="_blank" rel="noopener noreferrer">'+s+"</a>":s,window?.lmatBulkTranslationGlobal?.taxonomy_page||window?.lmatBulkTranslationGlobal?.post_label)};if(m[n]?.post_link&&(c.postLink=l),a(Ht({postId:n,data:c})),a($t({errorPosts:Bt.getState().countInfo.errorPosts+1})),++t>h.length-1)return;return void await i(t,e)}if(f&&f.length>0){a(Mt({lang:f}));const t={content:p,editorType:y,metaFields:_,service:o,postId:n,storeDispatch:a,sourceLanguage:b};if(g?.data?.allowedMetaFields&&_&&(t.allowedMetaFields=JSON.parse(g?.data?.allowedMetaFields)),"block"===y&&(t.blockParseRules=JSON.parse(g?.data?.blockParseRules),c||(a(jt(JSON.parse(g?.data?.blockParseRules))),c=!0)),(p&&""!==p||_&&Object.keys(_).length>0)&&await(async({content:t,editorType:e,service:a,postId:n,storeDispatch:r,blockParseRules:o=null,metaFields:i=null,allowedMetaFields:c=null,sourceLanguage:u=null})=>{const p={classic:"string"==typeof t&&t.includes("[lmat_val")?re:te,elementor:ee,block:ae,taxonomy:ne},d={content:t,service:a,postId:n,storeDispatch:r,sourceLanguage:u};return d.filterHtmlContent=ve({Service:a}).filterHtmlContent,o&&(d.blockParseRules=o),i&&Object.keys(i).length>0&&await(async({metaFields:t,service:e,postId:a,storeDispatch:n,allowedMetaFields:r,filterHtmlContent:o,sourceLanguage:i})=>{const c=Yt(Bt.getState(),i),u=async(t,e,a)=>{await t(e[a],a),++a<e.length&&await u(t,e,a)},p=({key:t,originalValue:e,value:r,type:s,status:o,allowedMetaFields:l})=>{/^\d{1,2}\/\d{1,2}\/\d{4}(?:\s+\d{1,2}:\d{2}\s*(?:AM|PM)?)?$/i.test(r)||/^[0-9.\- _#!$%^&*()+~`]+$/.test(r)||zt(a,t,e,r,n)},d=async(t,a,n)=>{await u(async r=>{if("string"==typeof a[r]){const i="metaFields_lmat_"+t.join("_lmat_bulk_content_temp_")+"_lmat_bulk_content_temp_"+r,u=a[r];let d=u;if(o){let t=s({content:d,service:e,contentKey:r,skipTags:[]});d=await l(t),["google","localAiTranslator"].includes(e)&&c&&Object.values(c).length>0&&(d=await Qt({content:d,glossaryTerms:c})),t=null}p({key:i,originalValue:u,value:d,type:"string",status:n[t[0]].status,allowedMetaFields:n})}else"object"==typeof a[r]&&Object.keys(a[r]).length>0&&await d([...t,r],a[r],n)},Object.keys(a),0)};Object.keys(t).length>0&&await u(async(a,n)=>{if(r&&r[a]&&r[a].status){const n="metaFields_lmat_"+a;if("string"===r[a].type){const i=t[a];let u=i;if(o){let t=s({content:u,service:e,contentKey:a,skipTags:[]});u=await l(t),["google","localAiTranslator"].includes(e)&&c&&Object.values(c).length>0&&(u=await Qt({content:u,glossaryTerms:c})),t=null}p({key:n,originalValue:i,value:u,type:r[a].type,status:r[a].status,allowedMetaFields:r})}else"object"==typeof t[a]&&Object.keys(t[a]).length>0&&await d([a],t[a],r)}},Object.keys(t),0)})({service:a,postId:n,storeDispatch:r,metaFields:i,allowedMetaFields:c,filterHtmlContent:d.filterHtmlContent,sourceLanguage:u}),p[e]?await p[e](d):t})(t),["classic","block","elementor","taxonomy"].includes(y)){const t=Yt(Bt.getState(),b);if(u&&""!==u.trim()){let e=u;["google","localAiTranslator"].includes(o)&&(e=await Qt({content:u,glossaryTerms:t})),a(Nt({postId:n,uniqueKey:"title",value:u})),a(At({postId:n,uniqueKey:"title",value:e}))}if(d&&""!==d.trim()){let e=d;["google","localAiTranslator"].includes(o)&&(e=await Qt({content:d,glossaryTerms:t})),a(Nt({postId:n,uniqueKey:"post_name",value:d})),a(At({postId:n,uniqueKey:"post_name",value:e}))}if(T&&""!==T.trim()){let e=T;["google","localAiTranslator"].includes(o)&&(e=await Qt({content:T,glossaryTerms:t})),a(Nt({postId:n,uniqueKey:"excerpt",value:T})),a(At({postId:n,uniqueKey:"excerpt",value:e}))}const e=Bt.getState().parentPostsInfo[n],r=(e?.charactersCount||0)+u.length,s=(e?.wordsCount||0)+u.split(/\s+/).filter(t=>/[^\p{L}\p{N}]/.test(t)).length,l=(e?.stringsCount||0)+u.split(/(?<=[.!?]+)\s+/).length,i={};u&&""!==u.trim()&&(i.title=u),i.content=p||{},d&&""!==d.trim()&&(i.post_name=d),T&&""!==T.trim()&&(i.excerpt=T),_&&Object.keys(_).length>0&&(i.metaFields=_),a(It({postId:n,data:{editorType:y,originalContent:i,languages:f,sourceLanguage:b,charactersCount:r,wordsCount:s,stringsCount:l}})),a($t({totalPosts:Bt.getState().countInfo.totalPosts+f.length}))}}else console.log(`All target languages for post ${n} already exist. Skipping translation.`);++t>h.length-1||await i(t,e)},u=Bt.getState().pendingPosts.length;return await o(t),await i(0,u),g?.data?.allowedMetaFields&&a(Dt(JSON.parse(g?.data?.allowedMetaFields))),{postKeys:h,nonce:g.data.CreateTranslatePostNonce}}};var xe=a(418);var Ce={notify(){},get:()=>[]};var Le=(()=>!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement))(),$e=(()=>"undefined"!=typeof navigator&&"ReactNative"===navigator.product)(),Ne=(()=>Le||$e?n.useLayoutEffect:n.useEffect)();Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var Pe=Symbol.for("react-redux-context"),Oe="undefined"!=typeof globalThis?globalThis:{};function Ae(){if(!n.createContext)return{};const t=Oe[Pe]??=new Map;let e=t.get(n.createContext);return e||(e=n.createContext(null),t.set(n.createContext,e)),e}var Ie=Ae(),Re=function(t){const{children:e,context:a,serverState:r,store:s}=t,o=n.useMemo(()=>{const t=function(t,e){let a,n=Ce,r=0,s=!1;function o(){c.onStateChange&&c.onStateChange()}function l(){r++,a||(a=e?e.addNestedSub(o):t.subscribe(o),n=function(){let t=null,e=null;return{clear(){t=null,e=null},notify(){(()=>{let e=t;for(;e;)e.callback(),e=e.next})()},get(){const e=[];let a=t;for(;a;)e.push(a),a=a.next;return e},subscribe(a){let n=!0;const r=e={callback:a,next:null,prev:e};return r.prev?r.prev.next=r:t=r,function(){n&&null!==t&&(n=!1,r.next?r.next.prev=r.prev:e=r.prev,r.prev?r.prev.next=r.next:t=r.next)}}}}())}function i(){r--,a&&0===r&&(a(),a=void 0,n.clear(),n=Ce)}const c={addNestedSub:function(t){l();const e=n.subscribe(t);let a=!1;return()=>{a||(a=!0,e(),i())}},notifyNestedSubs:function(){n.notify()},handleChangeWrapper:o,isSubscribed:function(){return s},trySubscribe:function(){s||(s=!0,l())},tryUnsubscribe:function(){s&&(s=!1,i())},getListeners:()=>n};return c}(s);return{store:s,subscription:t,getServerState:r?()=>r:void 0}},[s,r]),l=n.useMemo(()=>s.getState(),[s]);Ne(()=>{const{subscription:t}=o;return t.onStateChange=t.notifyNestedSubs,t.trySubscribe(),l!==s.getState()&&t.notifyNestedSubs(),()=>{t.tryUnsubscribe(),t.onStateChange=void 0}},[o,l]);const i=a||Ie;return n.createElement(i.Provider,{value:o},e)};function Me(t=Ie){return function(){return n.useContext(t)}}var je=Me();function De(t=Ie){const e=t===Ie?je:Me(t),a=()=>{const{store:t}=e();return t};return Object.assign(a,{withTypes:()=>a}),a}var He=De();function Fe(t=Ie){const e=t===Ie?He:De(t),a=()=>e().dispatch;return Object.assign(a,{withTypes:()=>a}),a}var Be=Fe(),ze=(t,e)=>t===e;function Ue(t=Ie){const e=t===Ie?je:Me(t),a=(t,a={})=>{const{equalityFn:r=ze}="function"==typeof a?{equalityFn:a}:a,s=e(),{store:o,subscription:l,getServerState:i}=s,c=(n.useRef(!0),n.useCallback({[t.name]:e=>t(e)}[t.name],[t])),u=(0,xe.useSyncExternalStoreWithSelector)(l.addNestedSub,o.getState,i||o.getState,c,r);return n.useDebugValue(u),u};return Object.assign(a,{withTypes:()=>a}),a}var Ge=Ue();const qe=window.wp.element,{entries:We,setPrototypeOf:Ke,isFrozen:Ve,getPrototypeOf:Ye,getOwnPropertyDescriptor:Ze}=Object;let{freeze:Je,seal:Xe,create:Qe}=Object,{apply:ta,construct:ea}="undefined"!=typeof Reflect&&Reflect;Je||(Je=function(t){return t}),Xe||(Xe=function(t){return t}),ta||(ta=function(t,e,a){return t.apply(e,a)}),ea||(ea=function(t,e){return new t(...e)});const aa=ya(Array.prototype.forEach),na=ya(Array.prototype.lastIndexOf),ra=ya(Array.prototype.pop),sa=ya(Array.prototype.push),oa=ya(Array.prototype.splice),la=ya(String.prototype.toLowerCase),ia=ya(String.prototype.toString),ca=ya(String.prototype.match),ua=ya(String.prototype.replace),pa=ya(String.prototype.indexOf),da=ya(String.prototype.trim),ga=ya(Object.prototype.hasOwnProperty),ma=ya(RegExp.prototype.test),ha=(fa=TypeError,function(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];return ea(fa,e)});var fa;function ya(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var a=arguments.length,n=new Array(a>1?a-1:0),r=1;r<a;r++)n[r-1]=arguments[r];return ta(t,e,n)}}function _a(t,e){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:la;Ke&&Ke(t,null);let n=e.length;for(;n--;){let r=e[n];if("string"==typeof r){const t=a(r);t!==r&&(Ve(e)||(e[n]=t),r=t)}t[r]=!0}return t}function ba(t){for(let e=0;e<t.length;e++)ga(t,e)||(t[e]=null);return t}function Ta(t){const e=Qe(null);for(const[a,n]of We(t))ga(t,a)&&(Array.isArray(n)?e[a]=ba(n):n&&"object"==typeof n&&n.constructor===Object?e[a]=Ta(n):e[a]=n);return e}function va(t,e){for(;null!==t;){const a=Ze(t,e);if(a){if(a.get)return ya(a.get);if("function"==typeof a.value)return ya(a.value)}t=Ye(t)}return function(){return null}}const wa=Je(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Ea=Je(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ka=Je(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Sa=Je(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),xa=Je(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Ca=Je(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),La=Je(["#text"]),$a=Je(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Na=Je(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Pa=Je(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Oa=Je(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Aa=Xe(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Ia=Xe(/<%[\w\W]*|[\w\W]*%>/gm),Ra=Xe(/\$\{[\w\W]*/gm),Ma=Xe(/^data-[\-\w.\u00B7-\uFFFF]+$/),ja=Xe(/^aria-[\-\w]+$/),Da=Xe(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Ha=Xe(/^(?:\w+script|data):/i),Fa=Xe(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Ba=Xe(/^html$/i),za=Xe(/^[a-z][.\w]*(-[.\w]+)+$/i);var Ua=Object.freeze({__proto__:null,ARIA_ATTR:ja,ATTR_WHITESPACE:Fa,CUSTOM_ELEMENT:za,DATA_ATTR:Ma,DOCTYPE_NAME:Ba,ERB_EXPR:Ia,IS_ALLOWED_URI:Da,IS_SCRIPT_OR_DATA:Ha,MUSTACHE_EXPR:Aa,TMPLIT_EXPR:Ra});const Ga=function(){return"undefined"==typeof window?null:window};var qa=function t(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ga();const a=e=>t(e);if(a.version="3.2.6",a.removed=[],!e||!e.document||9!==e.document.nodeType||!e.Element)return a.isSupported=!1,a;let{document:n}=e;const r=n,s=r.currentScript,{DocumentFragment:o,HTMLTemplateElement:l,Node:i,Element:c,NodeFilter:u,NamedNodeMap:p=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:d,DOMParser:g,trustedTypes:m}=e,h=c.prototype,f=va(h,"cloneNode"),y=va(h,"remove"),_=va(h,"nextSibling"),b=va(h,"childNodes"),T=va(h,"parentNode");if("function"==typeof l){const t=n.createElement("template");t.content&&t.content.ownerDocument&&(n=t.content.ownerDocument)}let v,w="";const{implementation:E,createNodeIterator:k,createDocumentFragment:S,getElementsByTagName:x}=n,{importNode:C}=r;let L={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};a.isSupported="function"==typeof We&&"function"==typeof T&&E&&void 0!==E.createHTMLDocument;const{MUSTACHE_EXPR:$,ERB_EXPR:N,TMPLIT_EXPR:P,DATA_ATTR:O,ARIA_ATTR:A,IS_SCRIPT_OR_DATA:I,ATTR_WHITESPACE:R,CUSTOM_ELEMENT:M}=Ua;let{IS_ALLOWED_URI:j}=Ua,D=null;const H=_a({},[...wa,...Ea,...ka,...xa,...La]);let F=null;const B=_a({},[...$a,...Na,...Pa,...Oa]);let z=Object.seal(Qe(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),U=null,G=null,q=!0,W=!0,K=!1,V=!0,Y=!1,Z=!0,J=!1,X=!1,Q=!1,tt=!1,et=!1,at=!1,nt=!0,rt=!1,st=!0,ot=!1,lt={},it=null;const ct=_a({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ut=null;const pt=_a({},["audio","video","img","source","image","track"]);let dt=null;const gt=_a({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),mt="http://www.w3.org/1998/Math/MathML",ht="http://www.w3.org/2000/svg",ft="http://www.w3.org/1999/xhtml";let yt=ft,_t=!1,bt=null;const Tt=_a({},[mt,ht,ft],ia);let vt=_a({},["mi","mo","mn","ms","mtext"]),wt=_a({},["annotation-xml"]);const Et=_a({},["title","style","font","a","script"]);let kt=null;const St=["application/xhtml+xml","text/html"];let xt=null,Ct=null;const Lt=n.createElement("form"),$t=function(t){return t instanceof RegExp||t instanceof Function},Nt=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Ct||Ct!==t){if(t&&"object"==typeof t||(t={}),t=Ta(t),kt=-1===St.indexOf(t.PARSER_MEDIA_TYPE)?"text/html":t.PARSER_MEDIA_TYPE,xt="application/xhtml+xml"===kt?ia:la,D=ga(t,"ALLOWED_TAGS")?_a({},t.ALLOWED_TAGS,xt):H,F=ga(t,"ALLOWED_ATTR")?_a({},t.ALLOWED_ATTR,xt):B,bt=ga(t,"ALLOWED_NAMESPACES")?_a({},t.ALLOWED_NAMESPACES,ia):Tt,dt=ga(t,"ADD_URI_SAFE_ATTR")?_a(Ta(gt),t.ADD_URI_SAFE_ATTR,xt):gt,ut=ga(t,"ADD_DATA_URI_TAGS")?_a(Ta(pt),t.ADD_DATA_URI_TAGS,xt):pt,it=ga(t,"FORBID_CONTENTS")?_a({},t.FORBID_CONTENTS,xt):ct,U=ga(t,"FORBID_TAGS")?_a({},t.FORBID_TAGS,xt):Ta({}),G=ga(t,"FORBID_ATTR")?_a({},t.FORBID_ATTR,xt):Ta({}),lt=!!ga(t,"USE_PROFILES")&&t.USE_PROFILES,q=!1!==t.ALLOW_ARIA_ATTR,W=!1!==t.ALLOW_DATA_ATTR,K=t.ALLOW_UNKNOWN_PROTOCOLS||!1,V=!1!==t.ALLOW_SELF_CLOSE_IN_ATTR,Y=t.SAFE_FOR_TEMPLATES||!1,Z=!1!==t.SAFE_FOR_XML,J=t.WHOLE_DOCUMENT||!1,tt=t.RETURN_DOM||!1,et=t.RETURN_DOM_FRAGMENT||!1,at=t.RETURN_TRUSTED_TYPE||!1,Q=t.FORCE_BODY||!1,nt=!1!==t.SANITIZE_DOM,rt=t.SANITIZE_NAMED_PROPS||!1,st=!1!==t.KEEP_CONTENT,ot=t.IN_PLACE||!1,j=t.ALLOWED_URI_REGEXP||Da,yt=t.NAMESPACE||ft,vt=t.MATHML_TEXT_INTEGRATION_POINTS||vt,wt=t.HTML_INTEGRATION_POINTS||wt,z=t.CUSTOM_ELEMENT_HANDLING||{},t.CUSTOM_ELEMENT_HANDLING&&$t(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(z.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&$t(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(z.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(z.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Y&&(W=!1),et&&(tt=!0),lt&&(D=_a({},La),F=[],!0===lt.html&&(_a(D,wa),_a(F,$a)),!0===lt.svg&&(_a(D,Ea),_a(F,Na),_a(F,Oa)),!0===lt.svgFilters&&(_a(D,ka),_a(F,Na),_a(F,Oa)),!0===lt.mathMl&&(_a(D,xa),_a(F,Pa),_a(F,Oa))),t.ADD_TAGS&&(D===H&&(D=Ta(D)),_a(D,t.ADD_TAGS,xt)),t.ADD_ATTR&&(F===B&&(F=Ta(F)),_a(F,t.ADD_ATTR,xt)),t.ADD_URI_SAFE_ATTR&&_a(dt,t.ADD_URI_SAFE_ATTR,xt),t.FORBID_CONTENTS&&(it===ct&&(it=Ta(it)),_a(it,t.FORBID_CONTENTS,xt)),st&&(D["#text"]=!0),J&&_a(D,["html","head","body"]),D.table&&(_a(D,["tbody"]),delete U.tbody),t.TRUSTED_TYPES_POLICY){if("function"!=typeof t.TRUSTED_TYPES_POLICY.createHTML)throw ha('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof t.TRUSTED_TYPES_POLICY.createScriptURL)throw ha('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');v=t.TRUSTED_TYPES_POLICY,w=v.createHTML("")}else void 0===v&&(v=function(t,e){if("object"!=typeof t||"function"!=typeof t.createPolicy)return null;let a=null;const n="data-tt-policy-suffix";e&&e.hasAttribute(n)&&(a=e.getAttribute(n));const r="dompurify"+(a?"#"+a:"");try{return t.createPolicy(r,{createHTML:t=>t,createScriptURL:t=>t})}catch(t){return console.warn("TrustedTypes policy "+r+" could not be created."),null}}(m,s)),null!==v&&"string"==typeof w&&(w=v.createHTML(""));Je&&Je(t),Ct=t}},Pt=_a({},[...Ea,...ka,...Sa]),Ot=_a({},[...xa,...Ca]),At=function(t){sa(a.removed,{element:t});try{T(t).removeChild(t)}catch(e){y(t)}},It=function(t,e){try{sa(a.removed,{attribute:e.getAttributeNode(t),from:e})}catch(t){sa(a.removed,{attribute:null,from:e})}if(e.removeAttribute(t),"is"===t)if(tt||et)try{At(e)}catch(t){}else try{e.setAttribute(t,"")}catch(t){}},Rt=function(t){let e=null,a=null;if(Q)t="<remove></remove>"+t;else{const e=ca(t,/^[\r\n\t ]+/);a=e&&e[0]}"application/xhtml+xml"===kt&&yt===ft&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>");const r=v?v.createHTML(t):t;if(yt===ft)try{e=(new g).parseFromString(r,kt)}catch(t){}if(!e||!e.documentElement){e=E.createDocument(yt,"template",null);try{e.documentElement.innerHTML=_t?w:r}catch(t){}}const s=e.body||e.documentElement;return t&&a&&s.insertBefore(n.createTextNode(a),s.childNodes[0]||null),yt===ft?x.call(e,J?"html":"body")[0]:J?e.documentElement:s},Mt=function(t){return k.call(t.ownerDocument||t,t,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},jt=function(t){return t instanceof d&&("string"!=typeof t.nodeName||"string"!=typeof t.textContent||"function"!=typeof t.removeChild||!(t.attributes instanceof p)||"function"!=typeof t.removeAttribute||"function"!=typeof t.setAttribute||"string"!=typeof t.namespaceURI||"function"!=typeof t.insertBefore||"function"!=typeof t.hasChildNodes)},Dt=function(t){return"function"==typeof i&&t instanceof i};function Ht(t,e,n){aa(t,t=>{t.call(a,e,n,Ct)})}const Ft=function(t){let e=null;if(Ht(L.beforeSanitizeElements,t,null),jt(t))return At(t),!0;const n=xt(t.nodeName);if(Ht(L.uponSanitizeElement,t,{tagName:n,allowedTags:D}),Z&&t.hasChildNodes()&&!Dt(t.firstElementChild)&&ma(/<[/\w!]/g,t.innerHTML)&&ma(/<[/\w!]/g,t.textContent))return At(t),!0;if(7===t.nodeType)return At(t),!0;if(Z&&8===t.nodeType&&ma(/<[/\w]/g,t.data))return At(t),!0;if(!D[n]||U[n]){if(!U[n]&&zt(n)){if(z.tagNameCheck instanceof RegExp&&ma(z.tagNameCheck,n))return!1;if(z.tagNameCheck instanceof Function&&z.tagNameCheck(n))return!1}if(st&&!it[n]){const e=T(t)||t.parentNode,a=b(t)||t.childNodes;if(a&&e)for(let n=a.length-1;n>=0;--n){const r=f(a[n],!0);r.__removalCount=(t.__removalCount||0)+1,e.insertBefore(r,_(t))}}return At(t),!0}return t instanceof c&&!function(t){let e=T(t);e&&e.tagName||(e={namespaceURI:yt,tagName:"template"});const a=la(t.tagName),n=la(e.tagName);return!!bt[t.namespaceURI]&&(t.namespaceURI===ht?e.namespaceURI===ft?"svg"===a:e.namespaceURI===mt?"svg"===a&&("annotation-xml"===n||vt[n]):Boolean(Pt[a]):t.namespaceURI===mt?e.namespaceURI===ft?"math"===a:e.namespaceURI===ht?"math"===a&&wt[n]:Boolean(Ot[a]):t.namespaceURI===ft?!(e.namespaceURI===ht&&!wt[n])&&!(e.namespaceURI===mt&&!vt[n])&&!Ot[a]&&(Et[a]||!Pt[a]):!("application/xhtml+xml"!==kt||!bt[t.namespaceURI]))}(t)?(At(t),!0):"noscript"!==n&&"noembed"!==n&&"noframes"!==n||!ma(/<\/no(script|embed|frames)/i,t.innerHTML)?(Y&&3===t.nodeType&&(e=t.textContent,aa([$,N,P],t=>{e=ua(e,t," ")}),t.textContent!==e&&(sa(a.removed,{element:t.cloneNode()}),t.textContent=e)),Ht(L.afterSanitizeElements,t,null),!1):(At(t),!0)},Bt=function(t,e,a){if(nt&&("id"===e||"name"===e)&&(a in n||a in Lt))return!1;if(W&&!G[e]&&ma(O,e));else if(q&&ma(A,e));else if(!F[e]||G[e]){if(!(zt(t)&&(z.tagNameCheck instanceof RegExp&&ma(z.tagNameCheck,t)||z.tagNameCheck instanceof Function&&z.tagNameCheck(t))&&(z.attributeNameCheck instanceof RegExp&&ma(z.attributeNameCheck,e)||z.attributeNameCheck instanceof Function&&z.attributeNameCheck(e))||"is"===e&&z.allowCustomizedBuiltInElements&&(z.tagNameCheck instanceof RegExp&&ma(z.tagNameCheck,a)||z.tagNameCheck instanceof Function&&z.tagNameCheck(a))))return!1}else if(dt[e]);else if(ma(j,ua(a,R,"")));else if("src"!==e&&"xlink:href"!==e&&"href"!==e||"script"===t||0!==pa(a,"data:")||!ut[t])if(K&&!ma(I,ua(a,R,"")));else if(a)return!1;return!0},zt=function(t){return"annotation-xml"!==t&&ca(t,M)},Ut=function(t){Ht(L.beforeSanitizeAttributes,t,null);const{attributes:e}=t;if(!e||jt(t))return;const n={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:F,forceKeepAttr:void 0};let r=e.length;for(;r--;){const s=e[r],{name:o,namespaceURI:l,value:i}=s,c=xt(o),u=i;let p="value"===o?u:da(u);if(n.attrName=c,n.attrValue=p,n.keepAttr=!0,n.forceKeepAttr=void 0,Ht(L.uponSanitizeAttribute,t,n),p=n.attrValue,!rt||"id"!==c&&"name"!==c||(It(o,t),p="user-content-"+p),Z&&ma(/((--!?|])>)|<\/(style|title)/i,p)){It(o,t);continue}if(n.forceKeepAttr)continue;if(!n.keepAttr){It(o,t);continue}if(!V&&ma(/\/>/i,p)){It(o,t);continue}Y&&aa([$,N,P],t=>{p=ua(p,t," ")});const d=xt(t.nodeName);if(Bt(d,c,p)){if(v&&"object"==typeof m&&"function"==typeof m.getAttributeType)if(l);else switch(m.getAttributeType(d,c)){case"TrustedHTML":p=v.createHTML(p);break;case"TrustedScriptURL":p=v.createScriptURL(p)}if(p!==u)try{l?t.setAttributeNS(l,o,p):t.setAttribute(o,p),jt(t)?At(t):ra(a.removed)}catch(e){It(o,t)}}else It(o,t)}Ht(L.afterSanitizeAttributes,t,null)},Gt=function t(e){let a=null;const n=Mt(e);for(Ht(L.beforeSanitizeShadowDOM,e,null);a=n.nextNode();)Ht(L.uponSanitizeShadowNode,a,null),Ft(a),Ut(a),a.content instanceof o&&t(a.content);Ht(L.afterSanitizeShadowDOM,e,null)};return a.sanitize=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,s=null,l=null,c=null;if(_t=!t,_t&&(t="\x3c!--\x3e"),"string"!=typeof t&&!Dt(t)){if("function"!=typeof t.toString)throw ha("toString is not a function");if("string"!=typeof(t=t.toString()))throw ha("dirty is not a string, aborting")}if(!a.isSupported)return t;if(X||Nt(e),a.removed=[],"string"==typeof t&&(ot=!1),ot){if(t.nodeName){const e=xt(t.nodeName);if(!D[e]||U[e])throw ha("root node is forbidden and cannot be sanitized in-place")}}else if(t instanceof i)n=Rt("\x3c!----\x3e"),s=n.ownerDocument.importNode(t,!0),1===s.nodeType&&"BODY"===s.nodeName||"HTML"===s.nodeName?n=s:n.appendChild(s);else{if(!tt&&!Y&&!J&&-1===t.indexOf("<"))return v&&at?v.createHTML(t):t;if(n=Rt(t),!n)return tt?null:at?w:""}n&&Q&&At(n.firstChild);const u=Mt(ot?t:n);for(;l=u.nextNode();)Ft(l),Ut(l),l.content instanceof o&&Gt(l.content);if(ot)return t;if(tt){if(et)for(c=S.call(n.ownerDocument);n.firstChild;)c.appendChild(n.firstChild);else c=n;return(F.shadowroot||F.shadowrootmode)&&(c=C.call(r,c,!0)),c}let p=J?n.outerHTML:n.innerHTML;return J&&D["!doctype"]&&n.ownerDocument&&n.ownerDocument.doctype&&n.ownerDocument.doctype.name&&ma(Ba,n.ownerDocument.doctype.name)&&(p="<!DOCTYPE "+n.ownerDocument.doctype.name+">\n"+p),Y&&aa([$,N,P],t=>{p=ua(p,t," ")}),v&&at?v.createHTML(p):p},a.setConfig=function(){Nt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),X=!0},a.clearConfig=function(){Ct=null,X=!1},a.isValidAttribute=function(t,e,a){Ct||Nt({});const n=xt(t),r=xt(e);return Bt(n,r,a)},a.addHook=function(t,e){"function"==typeof e&&sa(L[t],e)},a.removeHook=function(t,e){if(void 0!==e){const a=na(L[t],e);return-1===a?void 0:oa(L[t],a,1)[0]}return ra(L[t])},a.removeHooks=function(t){L[t]=[]},a.removeAllHooks=function(){L={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},a}();const Wa=({message:t,onClose:e,Title:a,prefix:n,children:s})=>{let o=jQuery("<div>").append(t);const l=o.html();return o.remove(),o=null,(0,qe.useEffect)(()=>{const t=document.querySelectorAll(".chrome-ai-translator-flags");if(t.length>0)return t.forEach(t=>{t.classList.add(`${n}-tooltip-element`),t.addEventListener("click",e=>{if(e.preventDefault(),t.querySelector(`.${n}-tooltip`))return;let a=document.createElement("span");a.textContent="Text to be copied.",a.className=`${n}-tooltip`,t.appendChild(a),(async({text:t=!1,startCopyStatus:e=()=>{},endCopyStatus:a=()=>{}})=>{if(t&&""!==t)try{if(navigator?.clipboard?.writeText)await navigator.clipboard.writeText(t);else{const e=document.createElement("textarea");e.value=t,document.body.appendChild(e),e.select(),document.execCommand&&document.execCommand("copy"),document.body.removeChild(e)}e(),setTimeout(()=>a(),800)}catch(t){console.error("Error copying text to clipboard:",t)}})({text:t.getAttribute("data-clipboard-text"),startCopyStatus:()=>{a.classList.add(`${n}-tooltip-active`)},endCopyStatus:()=>{setTimeout(()=>{a.remove()},800)}})})}),()=>{t.forEach(t=>{t.removeEventListener("click",()=>{})})}},[]),React.createElement("div",{className:`${n}-error-modal-box-container`},React.createElement("div",{className:`${n}-error-modal-box`},React.createElement("div",{className:`${n}-error-modal-box-header`},React.createElement("span",{className:`${n}-error-modal-box-close`,onClick:e},""),a&&React.createElement("h3",null,a)),React.createElement("div",{className:`${n}-error-modal-box-body`},React.createElement("p",{dangerouslySetInnerHTML:{__html:qa.sanitize(l)}}),s),React.createElement("div",{className:`${n}-error-modal-box-footer`},React.createElement("button",{className:`${n}-error-modal-box-close button button-primary`,onClick:e},(0,r.__)("Back","linguator-multilingual-ai-translation")))))},Ka=({postIds:t,selectedLanguages:e,prefix:a,onDestory:s})=>{const o=Be(),[l,i]=(0,n.useState)(!0),[c,u]=(0,n.useState)(!1),[p,d]=(0,n.useState)(!1),g=Ge(qt),[m,h]=(0,n.useState)([]),f=Ge(Vt),y=Ge(Gt),_=Ge(Ut),[b,T]=(0,n.useState)(!0),[v,w]=(0,n.useState)(!1),[E,k]=(0,n.useState)("status"),S=Ge(Kt);let[x,C]=(0,n.useState)((0,r.sprintf)((0,r.__)("Translations already exist for all selected %s in the chosen languages. There are no new %s to translate.","linguator-multilingual-ai-translation"),lmatBulkTranslationGlobal.post_label,lmatBulkTranslationGlobal.post_label)),L=Ge(Wt);L=L.toFixed(1),L=Math.min(L,100),(0,n.useEffect)(()=>{(async()=>{const n=await Se({ids:t,langs:e,storeDispatch:o});i(!1),n.success||!1!==n.success||!n.message?(async(t=[],e,a,n,s)=>{const o=Bt.getState().pendingPosts;if(o.length<1)return;let l=!1;s(()=>{l=!0});const i=async c=>{const u=t[c];if(!u||l)return;const p=Bt.getState().parentPostsInfo[u];if(p){const{originalContent:{title:t,content:l,post_name:i,excerpt:c,metaFields:d},languages:g,editorType:m,sourceLanguage:h}=p;if(!g||0===g.length)return void console.log(`All target languages for post ${u} already exist. Skipping translation.`);if(!["classic","block","elementor","taxonomy"].includes(m))for(const t of g)a(xt(u+"_"+t)),a(Lt(100/o.length)),a(Ct({[u+"_"+t]:{status:"error",messageClass:"error",errorMessage:(0,r.__)("This post editor type is not supported for translation","linguator-multilingual-ai-translation")}}));const f={title:t,content:JSON.parse(JSON.stringify(l)),post_name:i,excerpt:c,metaFields:d&&Object.keys(d).length>0?JSON.parse(JSON.stringify(d)):{}};await(async({sourceLang:t,targetLangs:e,totalPosts:a,storeDispatch:n,postId:r,prefix:s,source:o,editorType:l,createTranslatePostNonce:i,updateDestoryHandler:c})=>{const u=Bt.getState().serviceProvider,p=ve({Service:u});if(p&&p.Provider){const u={sourceLang:t,targetLangs:e,totalPosts:a,storeDispatch:n,postId:r,createTranslatePostNonce:i,updateContent:async e=>{await ke({source:o,postId:r,sourceLang:t,lang:e,editorType:l,createTranslatePostNonce:i,storeDispatch:n})},prefix:s,updateDestoryHandler:c},d=new p.Provider(u);await d.initTranslation()}})({sourceLang:h,targetLangs:g,totalPosts:o.length,storeDispatch:a,prefix:n,postId:u,source:f,editorType:m,createTranslatePostNonce:e,updateDestoryHandler:s})}++c>t.length-1||l||await i(c)};await i(0)})(n.postKeys,n.nonce,o,a,$):C(n.message)})()},[]);const $=t=>{h(e=>[...e,t])};(0,n.useEffect)(()=>{if(S.totalPosts<1&&!l&&"status"!==E)N("status");else if(g&&Object.keys(g).length>0){if(y.length<1)return void N("completed");let t=!1,e=!1;const a=(n,r)=>{const s=g[n[r]].status;if("running"===s||"in-progress"===s||"pending"===s)return e=!0,void("running"!==E&&N("running"));"error"===s&&(t=!0),++r<n.length&&a(n,r)};if(a(Object.keys(g),0),e)return;N("pending")}},[g]);const N=t=>{k(t)};return(0,n.useEffect)(()=>{if(L>=100&&y.length<1){if(S.postsTranslated<1)return T(!1),void w(!1);S.stringsTranslated>0&&setTimeout(()=>{w(!0)},1e3),setTimeout(()=>{T(!1),w(!1)},7500)}},[y]),c?n.createElement(Wa,{message:p.errorHtml,onClose:t=>{u(!1),d(!1)},Title:(0,r.__)("Bulk Translation Error","linguator-multilingual-ai-translation"),prefix:a}):n.createElement("div",{id:`${a}-status-modal-container`},n.createElement("h2",{className:`${a}-bulk-status-heading ${E}`},(0,r.sprintf)((0,r.__)("Bulk Translation %s","linguator-multilingual-ai-translation"),(()=>{switch(E){case"running":return(0,r.__)("In Progress","linguator-multilingual-ai-translation");case"pending":return(0,r.__)("Pending","linguator-multilingual-ai-translation");case"completed":return(0,r.__)("Completed","linguator-multilingual-ai-translation");default:return(0,r.__)("Status","linguator-multilingual-ai-translation")}})()),"running"===E&&n.createElement("span",{className:`${a}-bulk-status-running`})),n.createElement("div",{className:`${a}-status-modal-close`,onClick:t=>{m.forEach(t=>"function"==typeof t&&t()),s(t)}},""),S.totalPosts<1&&S.errorPosts<1&&!l?n.createElement("p",null,x):n.createElement(n.Fragment,null,l&&n.createElement("div",{className:`${a}-progress-skeleton`}),S.totalPosts>1&&b&&!l?n.createElement(n.Fragment,null,n.createElement("div",{className:`${a}-overall-progress`},n.createElement("div",{className:`${a}-progress-bar`},n.createElement("div",{className:`${a}-progress`,style:{width:L+"%"}},L+"%"))),v&&n.createElement("div",{className:`${a}-translator-strings-count`},(0,r.__)("Wahooo! You have saved your valuable time via auto translating","linguator-multilingual-ai-translation"),n.createElement("strong",{className:"totalChars"}," ",S.charactersTranslated," "),(0,r.__)("characters using","linguator-multilingual-ai-translation"),n.createElement("strong",null," ",(()=>{switch(_){case"google":default:return"Google Translate";case"localAiTranslator":return"Chrome AI Translator"}})()))):S.postsTranslated>0&&n.createElement("div",{className:`${a}-count-container`},n.createElement("div",{className:`${a}-post-count`},n.createElement("span",{className:`${a}-count-text-heading`},(0,r.__)("Posts Translated:","linguator-multilingual-ai-translation")," "),n.createElement("span",{className:`${a}-post-translated-post`},S.postsTranslated),n.createElement("span",{className:`${a}-post-text`}," ",(0,r.__)("out of","linguator-multilingual-ai-translation")," "),n.createElement("span",{className:`${a}-post-total`},S.totalPosts),n.createElement("span",{className:`${a}-post-total-text`}," ",(0,r.__)("posts translated","linguator-multilingual-ai-translation"))),n.createElement("div",{className:`${a}-string-count`},n.createElement("span",{className:`${a}-count-text-heading`},(0,r.__)("Strings:","linguator-multilingual-ai-translation")," "),n.createElement("span",{className:`${a}-string-number`},S.stringsTranslated)),n.createElement("div",{className:`${a}-char-count`},n.createElement("span",{className:`${a}-count-text-heading`},(0,r.__)("Characters:","linguator-multilingual-ai-translation")," "),n.createElement("span",{className:`${a}-char-number`},S.charactersTranslated))),n.createElement("div",{className:`${a}-status-table-container`},n.createElement("div",null,n.createElement("table",{className:`${a}-status-table`},n.createElement("thead",null,n.createElement("tr",null,n.createElement("th",null,(0,r.__)("Language","linguator-multilingual-ai-translation")),n.createElement("th",null,(0,r.__)("Status","linguator-multilingual-ai-translation")),n.createElement("th",null,(0,r.__)("Title","linguator-multilingual-ai-translation")),n.createElement("th",null,(0,r.__)("Actions","linguator-multilingual-ai-translation")))),n.createElement("tbody",null,l&&n.createElement(n.Fragment,null,n.createElement("tr",null,n.createElement("td",null,n.createElement("div",{className:`${a}-progress-skeleton`})),n.createElement("td",null,n.createElement("div",{className:`${a}-progress-skeleton`})),n.createElement("td",null,n.createElement("div",{className:`${a}-progress-skeleton`})),n.createElement("td",null,n.createElement("div",{className:`${a}-progress-skeleton`}))),n.createElement("tr",null,n.createElement("td",null,n.createElement("div",{className:`${a}-progress-skeleton`})),n.createElement("td",null,n.createElement("div",{className:`${a}-progress-skeleton`})),n.createElement("td",null,n.createElement("div",{className:`${a}-progress-skeleton`})),n.createElement("td",null,n.createElement("div",{className:`${a}-progress-skeleton`})))),!l&&Object.keys(f).length>0&&Object.keys(f).map((t,e)=>n.createElement(n.Fragment,{key:t},n.createElement("tr",{key:`group-title-${t}`,className:`${a}-group-title`},n.createElement("td",{colSpan:"5"},f[t]?.title||(0,r.__)("Untitled","linguator-multilingual-ai-translation"))),n.createElement("tr",{key:t},n.createElement("td",{colSpan:"4",style:{textAlign:"center",width:"100%"},className:`${a}-error-message`,dangerouslySetInnerHTML:{__html:qa.sanitize(f[t].errorMessage)}})))),!l&&Object.keys(g).map((t,e)=>{const s=g[t],o=[],l="running"===s.status||"in-progress"===s.status;return s.firstPostLanguage&&o.push(n.createElement("tr",{key:`group-title-${s.parentPostId||t}`,className:`${a}-group-title`},n.createElement("td",{colSpan:"5"},s.parentPostTitle||(0,r.__)("Untitled","linguator-multilingual-ai-translation")))),o.push(n.createElement("tr",{key:t,className:`${a}-td-${s.status}`},n.createElement("td",{className:`${a}-status-flag`},s.flagUrl&&n.createElement("img",{src:s.flagUrl,width:"20",alt:s.targetLanguage}),s.languageName||s.targetLanguage),"error"===s.status?n.createElement(n.Fragment,null,n.createElement("td",{colSpan:s.errorHtml?"2":"3"},s.errorMessage),s.errorHtml&&n.createElement("td",{colSpan:"1",onClick:()=>{d(s),u(!0)}},n.createElement("button",{className:`${a}-status-error-button`},(0,r.__)("Error Details","linguator-multilingual-ai-translation")))):n.createElement(n.Fragment,null,n.createElement("td",null,n.createElement("span",{className:`${a}-status ${s.messageClass} ${s.status}`},"pending"===s.status&&(0,r.__)("Pending","linguator-multilingual-ai-translation"),"completed"===s.status&&(0,r.__)("Completed","linguator-multilingual-ai-translation"),l&&n.createElement("div",{className:`${a}-progress-bar-circular`,"data-id":s.parentPostId+"_"+s.targetLanguage},n.createElement("svg",{className:`${a}-circle`,viewBox:"0 0 36 36"},n.createElement("path",{className:`${a}-bg`,d:"M18 2.0845\r a 15.9155 15.9155 0 0 1 0 31.831\r a 15.9155 15.9155 0 0 1 0 -31.831"}),n.createElement("path",{className:`${a}-progress`,strokeDasharray:"0, 100",d:"M18 2.0845\r a 15.9155 15.9155 0 0 1 0 31.831\r a 15.9155 15.9155 0 0 1 0 -31.831"})),n.createElement("div",{className:`${a}-percentage`},"0%")))),n.createElement("td",null,n.createElement(n.Fragment,null,"completed"===s.status?n.createElement("a",{href:s.postLink,target:"_blank",rel:"noopener noreferrer"},s.targetPostTitle):"in-progress"===s.status?n.createElement("div",{className:`${a}-${s.messageClass}-text`},(0,r.__)("In Progress","linguator-multilingual-ai-translation"),n.createElement("span",null)):n.createElement("div",{className:`${a}-progress-skeleton short`}))),n.createElement("td",null,"completed"===s.status&&s.targetPostId?n.createElement("span",{className:`${a}-view-link`},(t=>{const e=((t,e)=>t.parentPostsInfo[e]?.languages)(Bt.getState(),t);let a=!0;if(!e||!e.length)return!0;for(let n=0;n<e.length;n++)if(!g[t+"_"+e[n]]||["pending","in-progress","running"].includes(g[t+"_"+e[n]].status)){a=!1;break}return a})(s.parentPostId)?n.createElement("a",{href:s.postEditLink,target:"_blank",rel:"noopener noreferrer",className:"button button-primary",title:(0,r.sprintf)((0,r.__)("Open the translated %s for review","linguator-multilingual-ai-translation"),lmatBulkTranslationGlobal.post_label)},(0,r.__)("Review","linguator-multilingual-ai-translation")):n.createElement("button",{className:"button disabled",disabled:!0,title:(0,r.sprintf)((0,r.__)("Please wait until all translations for this %s are complete before reviewing.","linguator-multilingual-ai-translation"),lmatBulkTranslationGlobal.post_label)},(0,r.__)("Review","linguator-multilingual-ai-translation"))):"in-progress"===s.status?n.createElement("div",{className:`${a}-${s.messageClass}-text`},(0,r.__)("In Progress","linguator-multilingual-ai-translation"),n.createElement("span",null)):n.createElement("div",{className:`${a}-progress-skeleton short`}))))),o}))))),S.postsTranslated>0&&!y.length&&!b&&n.createElement("div",{className:`${a}-progress-footer`},n.createElement("a",{className:`${a}-progress-button button button-primary`,href:(()=>{const t=Object.values(g).filter(t=>"completed"===t.status&&t.targetLanguage).map(t=>t.targetLanguage).filter((t,e,a)=>a.indexOf(t)===e);if(1===t.length){const e=t[0],a=new URL(window.location.href),n=new URLSearchParams(a.search);n.set("lang",e),n.set("orderby","date"),n.set("order","desc");const r=Object.fromEntries(n.entries());return window.location.href.split("?")[0]+"?"+new URLSearchParams(r).toString()}return window.location.href})()},(0,r.sprintf)((0,r.__)("Check Translated %s","linguator-multilingual-ai-translation"),lmatBulkTranslationGlobal.post_label)))))};a(338);const Va=({setSettingVisibility:t,prefix:e})=>React.createElement("div",{className:`${e}-setting-modal-header`},React.createElement("h2",null,(0,r.__)("Step 2 - Select Translation Provider","linguator-multilingual-ai-translation")),React.createElement("span",{className:`${e}-setting-modal-close`,onClick:e=>t(e)},"")),Ya=t=>{const e=t.Service,a=t.prefix,n=t[e+"Disabled"],r=ve({Service:e,[e+"ButtonDisabled"]:n,openErrorModalHandler:t.openErrorModalHandler,prefix:a}),s=`${a}-${e.replace(/([A-Z])/g,"-$1").toLowerCase().replace(/[^a-z0-9-]/g,"")}-btn`;return React.createElement("tr",null,React.createElement("td",{className:`${a}-provider-name`},r.Logo,React.createElement("span",null,r.title)),React.createElement("td",null,r.ButtonDisabled?r.ErrorMessage:React.createElement("button",{id:s,onClick:t.startTranslationHandler,className:`${a}-service-btn button button-primary`,"data-service":e,"data-service-label":r.ServiceLabel},r.SettingBtnText)),React.createElement("td",null,React.createElement("a",{href:r.Docs,target:"_blank",rel:"noopener noreferrer",className:`${a}-doc-icon`},React.createElement("svg",{width:"9",height:"12",viewBox:"0 0 9 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M2.17607 6.20533H6.82393V5.53867H2.17607V6.20533ZM2.17607 8.05133H6.82393V7.38467H2.17607V8.05133ZM2.17607 9.898H4.89536V9.23133H2.17607V9.898ZM1.03821 12C0.7425 12 0.495643 11.8973 0.297643 11.692C0.0996427 11.4867 0.000428571 11.2304 0 10.9233V1.07667C0 0.77 0.0992142 0.514 0.297643 0.308667C0.496071 0.103333 0.743143 0.000444444 1.03886 0H6.10714L9 3V10.9233C9 11.23 8.901 11.4862 8.703 11.692C8.505 11.8978 8.25771 12.0004 7.96114 12H1.03821ZM5.78571 3.33333V0.666667H1.03886C0.939857 0.666667 0.849 0.709333 0.766286 0.794666C0.683571 0.88 0.642429 0.974 0.642857 1.07667V10.9233C0.642857 11.0256 0.684 11.1196 0.766286 11.2053C0.848571 11.2911 0.939214 11.3338 1.03821 11.3333H7.96179C8.06036 11.3333 8.151 11.2907 8.23371 11.2053C8.31643 11.12 8.35757 11.0258 8.35714 10.9227V3.33333H5.78571Z",fill:"#6F6F6F"})))))};function Za(){return Za=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)({}).hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},Za.apply(null,arguments)}const Ja=t=>{const{prefix:e,localAiModalError:a}=t,n=ve();return React.createElement("div",{className:`${e}-setting-modal-body`},React.createElement("table",null,React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,"Name"),React.createElement("th",null,"Translate"),React.createElement("th",null,"Docs"))),React.createElement("tbody",null,Object.keys(n).map(e=>React.createElement(Ya,Za({key:e},t,{localAiTranslatorDisabled:a,localAiModalError:a,openErrorModalHandler:t.errorModalHandler,Service:e}))))))},Xa=({setSettingVisibility:t,prefix:e})=>React.createElement("div",{className:`${e}-setting-modal-footer`},React.createElement("button",{className:`${e}-setting-close button button-primary`,onClick:()=>t(!1)},(0,r.__)("Back","linguator-multilingual-ai-translation"))),Qa=t=>{const e=t.prefix||"lmat-bulk-translate",a=lmatBulkTranslationGlobal.lmat_url+"admin/assets/images/",[r,s]=(0,n.useState)(!1),o=lmatBulkTranslationGlobal.providers;return(0,n.useEffect)(()=>{if(o.length<2&&o[0]){const e=o[0],a="localAiTranslator"===e?"localAiModalError":e+"ModalError";t[a]?s(t[a]):t.updateProviderHandler(e)}},[o]),n.createElement(n.Fragment,null,r?n.createElement(Wa,{message:r,onDestroy:t.onDestory,onClose:e=>{s(!1),o.length<2&&o[0]&&t.onDestory(e)},Title:"Linguator Multilingual AI Translation",prefix:e}):o.length>1&&n.createElement("div",{id:`${e}-setting-modal-container`},n.createElement("div",{className:`${e}-setting-modal-content`},n.createElement(Va,{setSettingVisibility:t.onDestory,prefix:e}),n.createElement(Ja,{startTranslationHandler:async a=>{let n=a.target.classList.contains(`${e}-service-btn`)?a.target:a.target.closest(`.${e}-service-btn`);if(!n)return;const r=n.dataset&&n.dataset.service;t.updateProviderHandler(r)},imgFolder:a,prefix:e,localAiModalError:t.localAiModalError,errorModalHandler:t=>{s(t)}}),n.createElement(Xa,{setSettingVisibility:t.onCloseHandler,prefix:e}))))},tn=t=>React.createElement("div",{className:t.className},t.children),en=({onDestory:t,prefix:e,postIds:a})=>{const s=Be(),{languageObject:o={}}=lmatBulkTranslationGlobal||{},l=(0,r.sprintf)((0,r.__)("Please select at least one %s for translation.","linguator-multilingual-ai-translation"),lmatBulkTranslationGlobal.post_label),[i,c]=(0,n.useState)([]),[u,p]=(0,n.useState)(0===a.length?l:""),[d,g]=(0,n.useState)(!1),[m,h]=(0,n.useState)(!1),f=Ge(Kt).totalPosts,[y,_]=(0,n.useState)(!0),[b,T]=(0,n.useState)(!1),[v,w]=(0,n.useState)(!1),E=e=>{h(!1),g(!1),t(e)};(0,n.useEffect)(()=>{(async()=>{const t=await de.languageSupportedStatus("en","hi","English","Hindi");"browser-not-supported"!==t.type&&"translation-api-not-available"!==t.type&&"browser-not-supported"!==t.type||w((0,r.__)(t.html[0].outerHTML,"linguator-multilingual-ai-translation")),_(!1)})()},[m]),(0,n.useEffect)(()=>{m||d||s(Ot())},[m,d,s]);const k=async()=>{if(0===i.length&&!d)return p((0,r.__)("Please select at least one language","linguator-multilingual-ai-translation")),void T(!0);g(t=>!t)},S=()=>{const t=[];"true"===lmatBulkTranslationGlobal.postMetaSync&&"taxonomy"!==lmatBulkTranslationGlobal.taxonomy_page&&t.push({className:`${e}-notice ${e}-notice-error`,message:n.createElement("p",null,(0,r.__)("For accurate custom field translations, please disable the Custom Fields synchronization in ","linguator-multilingual-ai-translation"),n.createElement("a",{href:`${lmatBulkTranslationGlobal.admin_url}admin.php?page=lmat_settings`,target:"_blank",rel:"noopener noreferrer"},(0,r.__)("Linguator settings","linguator-multilingual-ai-translation")),(0,r.sprintf)((0,r.__)(". This may affect linked %s.","linguator-multilingual-ai-translation"),lmatBulkTranslationGlobal.post_label))});const a=t.length;if(t.length>0)return t.map((t,e)=>n.createElement(tn,{className:t.className,key:e,lastNotice:e===a-1},t.message))};return n.createElement("div",{id:`${e}-container`,className:(()=>{let t=[];return m&&t.push(`${e}-status-modal-active`),d&&t.push(`${e}-setting-modal-active`),f||d||!m||t.push(`${e}-empty-posts`),t.join(" ")})()},d&&n.createElement(Qa,{postIds:a,prefix:e,onDestory:E,onCloseHandler:k,updateProviderHandler:t=>{s(Rt(t)),g(!1),h(!0),_(!0)},localAiModalError:v}),m&&!d&&(y?n.createElement("div",{className:`${e}-skeleton-loader`}):n.createElement(Ka,{postIds:a,selectedLanguages:i,prefix:e,onDestory:E})),!m&&!d&&n.createElement("div",{className:`${e}-language-container`},n.createElement("div",{className:`${e}-header`},n.createElement("h2",null,(0,r.__)("Step 1: Select Languages","linguator-multilingual-ai-translation")),n.createElement("span",{className:"close",onClick:E,title:(0,r.__)("Close","linguator-multilingual-ai-translation")},"")),u&&""!==u?b?n.createElement(Wa,{message:u,onClose:t=>{T(!1)}}):n.createElement("div",{className:`${e}-error-message`,dangerouslySetInnerHTML:{__html:qa.sanitize(u)}}):n.createElement(n.Fragment,null,n.createElement("div",{className:`${e}-body`},n.createElement(S,null),n.createElement("div",{className:`${e}-languages`},Object.keys(o).map(t=>lmatBulkTranslationGlobal.default_language_slug&&lmatBulkTranslationGlobal.default_language_slug===t?null:n.createElement("div",{key:t,className:`${e}-language`},n.createElement("div",{title:a.length?o[t].name:l},n.createElement("input",{type:"checkbox",name:"languages",id:t,value:t,onChange:t=>(t=>{const{value:e}=t.target,a=t.target.checked;c(a?[...i,e]:i.filter(t=>t!==e))})(t),disabled:!a.length,checked:i.includes(t)}),n.createElement("label",{htmlFor:t,className:`${e}-language-label`,title:o[t].name},n.createElement("img",{src:o[t].flag,alt:o[t].name})," ",o[t].name))))),n.createElement("div",{className:`${e}-select-all-languages`},n.createElement("input",{type:"checkbox",name:"select-all-languages",id:"select-all-languages",onChange:t=>(t=>{const e=t.target.checked;c(e?Object.keys(o):[])})(t),checked:i.length===Object.keys(o).length}),n.createElement("label",{htmlFor:"select-all-languages"},i.length===Object.keys(o).length?(0,r.__)("Unselect All","linguator-multilingual-ai-translation"):(0,r.__)("Select All","linguator-multilingual-ai-translation")))),n.createElement("div",{className:`${e}-footer`},n.createElement("button",{className:`${e}-footer-button button button-primary`,onClick:E,title:a.length?"":l},(0,r.__)("Close","linguator-multilingual-ai-translation")),n.createElement("button",{className:`${e}-footer-button button button-primary`,onClick:k,disabled:!a.length||!i.length,title:a.length?i.length?"":(0,r.__)("Please select at least one language","linguator-multilingual-ai-translation"):l},(0,r.__)("Translate","linguator-multilingual-ai-translation"))))))};(()=>{const t=t=>{const[e,a]=(0,n.useState)(!1),[s,o]=(0,n.useState)([]),l=t.prefix,i=lmatBulkTranslationGlobal.providers,[c,u]=(0,n.useState)(!1);let p=(0,r.sprintf)((0,r.__)("%sYou have not enabled any translation provider. Please enable at least one service provider to use bulk translation. Go to the %sTranslation Settings%s to configure a translation provider.%s","linguator-multilingual-ai-translation"),"<p>",`<strong><a href='${lmatBulkTranslationGlobal.admin_url}admin.php?page=lmat_settings&tab=translation' target='_blank' rel='noopener noreferrer'>`,"</a></strong>","</p>");const d=t=>{t.preventDefault();let e='table.widefat input[name="post[]"]:checked';lmatBulkTranslationGlobal.taxonomy_page&&""!==lmatBulkTranslationGlobal.taxonomy_page&&(e='table.widefat input[name="delete_tags[]"]:checked');const n=document.querySelectorAll(e),r=Array.from(n).map(t=>t.value);if(o(r),i.length<1)return void u(t=>!t);a(t=>!t);const s=document.querySelector('.skiptranslate iframe[id=":1.container"]');if(document.body.classList.remove(l+"-google-translate"),s){const t=s.contentDocument.querySelector('a[id=":1.close"][title="Close"] img');t&&t.click()}};return(0,n.useEffect)(()=>{const t=document.querySelectorAll(`.${l}-btn`);t&&t.forEach(t=>{t.addEventListener("click",t=>{t.preventDefault(),d(t)})})},[]),(0,n.useEffect)(()=>{const t=document.getElementById(`${l}-wrapper`);t&&t.classList.toggle(`${l}-active`,e)},[e]),(0,n.useEffect)(()=>{const t=document.getElementById(`${l}-wrapper`);t&&t.classList.toggle(`${l}-active`,c)},[c]),e?n.createElement(en,{onDestory:d,prefix:l,postIds:s}):c?n.createElement("div",{id:`${l}-container`},n.createElement(Wa,{message:p,onDestroy:d,onClose:d,Title:"Translation Provider Not Configured",prefix:l})):null};window.addEventListener("load",async()=>{const e="lmat-bulk-translate";await new Promise(t=>setTimeout(t,500)),o.createRoot(document.getElementById(`${e}-wrapper`)).render(n.createElement(Re,{store:Bt},n.createElement(t,{prefix:e})))})})()})();